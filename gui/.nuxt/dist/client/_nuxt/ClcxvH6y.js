const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./xterm.BdtCR0Hx.css"])))=>i.map(i=>d[i]);
import{_ as qi}from"./rbhE-3Vg.js";import{i as k,j as A,s as ji,n as le,q as bn,v as Ui,x as M,y as Ut,z as _e,A as ue,B as Hi,C as K,D as Ht,h as we,E as Ve,F as ze,G as $e,H as G,I as Wi,J as yn,K as qn,L as jn,M as Be,N as Ki,_ as Yi,O as Un,P as Hn,Q as _t,R as tt,S as Xi,T as Ji,U as Qi,V as Xe,W as Zi,X as Gi,Y as er,o as L,g as Y,w as te,c as F,Z as z,l as U,$ as Je,a0 as de,a as Q,a1 as mt,b as Z,t as pe,a2 as tr,r as Wt,a3 as nr,d as nt,a4 as Wn,a5 as ir,a6 as Tt,m as rr,a7 as or,k as sr}from"./CQMx3IcQ.js";import{_ as ar}from"./DmC2N_7Z.js";import{u as ee,o as _,t as Kn,i as Re,E as Yn,A as Ee,T as Ot,I as De,s as Xn,N as Fe,l as Jn,a as V,b as lr,c as ur}from"./Cr4AQW7R.js";import{o as Mt,i as Qn,w as Zn,f as Gn,u as ei,O as ti,t as wn,n as cr,a as dr,h as fr}from"./DYK02DQQ.js";import{_ as pr}from"./DVeOjfX3.js";import{_ as hr}from"./UcEVdAoe.js";import{u as vr}from"./wAqY4c1Z.js";const mr={wrapper:"relative",base:"relative block w-full disabled:cursor-not-allowed disabled:opacity-75 focus:outline-none border-0",form:"form-input",rounded:"rounded-md",placeholder:"placeholder-gray-400 dark:placeholder-gray-500",file:{base:"file:mr-1.5 file:font-medium file:text-gray-500 dark:file:text-gray-400 file:bg-transparent file:border-0 file:p-0 file:outline-none"},size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},gap:{"2xs":"gap-x-1",xs:"gap-x-1.5",sm:"gap-x-1.5",md:"gap-x-2",lg:"gap-x-2.5",xl:"gap-x-2.5"},padding:{"2xs":"px-2 py-1",xs:"px-2.5 py-1.5",sm:"px-2.5 py-1.5",md:"px-3 py-2",lg:"px-3.5 py-2.5",xl:"px-3.5 py-2.5"},leading:{padding:{"2xs":"ps-7",xs:"ps-8",sm:"ps-9",md:"ps-10",lg:"ps-11",xl:"ps-12"}},trailing:{padding:{"2xs":"pe-7",xs:"pe-8",sm:"pe-9",md:"pe-10",lg:"pe-11",xl:"pe-12"}},color:{white:{outline:"shadow-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"},gray:{outline:"shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"}},variant:{outline:"shadow-sm bg-transparent text-gray-900 dark:text-white ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 focus:ring-2 focus:ring-{color}-500 dark:focus:ring-{color}-400",none:"bg-transparent focus:ring-0 focus:shadow-none"},icon:{base:"flex-shrink-0 text-gray-400 dark:text-gray-500",color:"text-{color}-500 dark:text-{color}-400",loading:"animate-spin",size:{"2xs":"h-4 w-4",xs:"h-4 w-4",sm:"h-5 w-5",md:"h-5 w-5",lg:"h-5 w-5",xl:"h-6 w-6"},leading:{wrapper:"absolute inset-y-0 start-0 flex items-center",pointer:"pointer-events-none",padding:{"2xs":"px-2",xs:"px-2.5",sm:"px-2.5",md:"px-3",lg:"px-3.5",xl:"px-3.5"}},trailing:{wrapper:"absolute inset-y-0 end-0 flex items-center",pointer:"pointer-events-none",padding:{"2xs":"px-2",xs:"px-2.5",sm:"px-2.5",md:"px-3",lg:"px-3.5",xl:"px-3.5"}}},default:{size:"sm",color:"white",variant:"outline",loadingIcon:"i-heroicons-arrow-path-20-solid"}},gr={...mr,form:"form-select",placeholder:"text-gray-400 dark:text-gray-500",default:{size:"sm",color:"white",variant:"outline",loadingIcon:"i-heroicons-arrow-path-20-solid",trailingIcon:"i-heroicons-chevron-down-20-solid"}};function Qe(e,t,n){let i=n.initialDeps??[],r;return()=>{var o,s,a,l;let d;n.key&&((o=n.debug)!=null&&o.call(n))&&(d=Date.now());const u=e();if(!(u.length!==i.length||u.some((y,w)=>i[w]!==y)))return r;i=u;let f;if(n.key&&((s=n.debug)!=null&&s.call(n))&&(f=Date.now()),r=t(...u),n.key&&((a=n.debug)!=null&&a.call(n))){const y=Math.round((Date.now()-d)*100)/100,w=Math.round((Date.now()-f)*100)/100,S=w/16,R=(E,x)=>{for(E=String(E);E.length<x;)E=" "+E;return E};console.info(`%c⏱ ${R(w,5)} /${R(y,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(l=n==null?void 0:n.onChange)==null||l.call(n,r),r}}function It(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const br=(e,t)=>Math.abs(e-t)<1,yr=(e,t,n)=>{let i;return function(...r){e.clearTimeout(i),i=e.setTimeout(()=>t.apply(this,r),n)}},wr=e=>e,xr=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let r=t;r<=n;r++)i.push(r);return i},Or=(e,t)=>{const n=e.scrollElement;if(!n)return;const i=e.targetWindow;if(!i)return;const r=s=>{const{width:a,height:l}=s;t({width:Math.round(a),height:Math.round(l)})};if(r(n.getBoundingClientRect()),!i.ResizeObserver)return()=>{};const o=new i.ResizeObserver(s=>{const a=s[0];if(a!=null&&a.borderBoxSize){const l=a.borderBoxSize[0];if(l){r({width:l.inlineSize,height:l.blockSize});return}}r(n.getBoundingClientRect())});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},xn={passive:!0},Sr=typeof window>"u"?!0:"onscrollend"in window,Er=(e,t)=>{const n=e.scrollElement;if(!n)return;const i=e.targetWindow;if(!i)return;let r=0;const o=Sr?()=>{}:yr(i,()=>{t(r,!1)},e.options.isScrollingResetDelay),s=d=>()=>{r=n[e.options.horizontal?"scrollLeft":"scrollTop"],o(),t(r,d)},a=s(!0),l=s(!1);return l(),n.addEventListener("scroll",a,xn),n.addEventListener("scrollend",l,xn),()=>{n.removeEventListener("scroll",a),n.removeEventListener("scrollend",l)}},kr=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const i=t.borderBoxSize[0];if(i)return Math.round(i[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},Cr=(e,{adjustments:t=0,behavior:n},i)=>{var r,o;const s=e+t;(o=(r=i.scrollElement)==null?void 0:r.scrollTo)==null||o.call(r,{[i.options.horizontal?"left":"top"]:s,behavior:n})};class Rr{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const i=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(r=>{r.forEach(o=>{this._measureElement(o.target,o)})}));return{disconnect:()=>{var r;return(r=i())==null?void 0:r.disconnect()},observe:r=>{var o;return(o=i())==null?void 0:o.observe(r,{box:"border-box"})},unobserve:r=>{var o;return(o=i())==null?void 0:o.unobserve(r)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([i,r])=>{typeof r>"u"&&delete n[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:wr,rangeExtractor:xr,onChange:()=>{},measureElement:kr,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,...n}},this.notify=(n,i)=>{var r,o;const{startIndex:s,endIndex:a}=this.range??{startIndex:void 0,endIndex:void 0},l=this.calculateRange();(n||s!==(l==null?void 0:l.startIndex)||a!==(l==null?void 0:l.endIndex))&&((o=(r=this.options).onChange)==null||o.call(r,this,i))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.observer.disconnect(),this.elementsCache.clear()},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.notify(!1,!1);return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(r,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<r?"forward":"backward":null,this.scrollOffset=r;const s=this.isScrolling;this.isScrolling=o,this.notify(s!==o,o)}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,i)=>{const r=new Map,o=new Map;for(let s=i-1;s>=0;s--){const a=n[s];if(r.has(a.lane))continue;const l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&r.set(a.lane,!0),r.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=Qe(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,i,r,o,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:i,scrollMargin:r,getItemKey:o,enabled:s}),{key:!1}),this.getMeasurements=Qe(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:i,scrollMargin:r,getItemKey:o,enabled:s},a)=>{var l;if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const d=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,d);for(let c=d;c<n;c++){let f=(l=this.measurementsCache[c])==null?void 0:l.measureElement;f||(f=v=>{const p=o(c),b=this.elementsCache.get(p);if(!v){b&&(this.observer.unobserve(b),this.elementsCache.delete(p));return}b!==v&&(b&&this.observer.unobserve(b),this.observer.observe(v),this.elementsCache.set(p,v)),v.isConnected&&this.resizeItem(c,this.options.measureElement(v,void 0,this))});const y=o(c),w=this.options.lanes===1?u[c-1]:this.getFurthestMeasurement(u,c),S=w?w.end+this.options.gap:i+r,R=a.get(y),E=typeof R=="number"?R:this.options.estimateSize(c),x=S+E,h=w?w.lane:c%this.options.lanes;u[c]={index:c,start:S,size:E,end:x,key:y,lane:h,measureElement:f}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Qe(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,i,r)=>this.range=n.length>0&&i>0?Ar({measurements:n,outerSize:i,scrollOffset:r}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=Qe(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,i,r,o)=>i===null?[]:n({startIndex:i.startIndex,endIndex:i.endIndex,overscan:r,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const i=this.options.indexAttribute,r=n.getAttribute(i);return r?parseInt(r,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(n,i)=>{const r=this.indexFromElement(n),o=this.getMeasurements()[r];if(!o||!n.isConnected){this.elementsCache.forEach((a,l)=>{a===n&&(this.observer.unobserve(n),this.elementsCache.delete(l))});return}const s=this.elementsCache.get(o.key);s!==n&&(s&&this.observer.unobserve(s),this.observer.observe(n),this.elementsCache.set(o.key,n)),this.resizeItem(r,this.options.measureElement(n,i,this))},this.resizeItem=(n,i)=>{const r=this.getMeasurements()[n];if(!r)return;const o=this.itemSizeCache.get(r.key)??r.size,s=i-o;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(r,s,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,i)),this.notify(!0,!1))},this.measureElement=n=>{n&&this._measureElement(n,void 0)},this.getVirtualItems=Qe(()=>[this.getIndexes(),this.getMeasurements()],(n,i)=>{const r=[];for(let o=0,s=n.length;o<s;o++){const a=n[o],l=i[a];r.push(l)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const i=this.getMeasurements();if(i.length!==0)return It(i[ni(0,i.length-1,r=>It(i[r]).start,n)])},this.getOffsetForAlignment=(n,i)=>{const r=this.getSize(),o=this.getScrollOffset();i==="auto"&&(n<=o?i="start":n>=o+r?i="end":i="start"),i==="start"?n=n:i==="end"?n=n-r:i==="center"&&(n=n-r/2);const s=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[s]:this.scrollElement[s]:0)-r;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,i="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const r=this.getMeasurements()[n];if(!r)return;const o=this.getSize(),s=this.getScrollOffset();if(i==="auto")if(r.end>=s+o-this.options.scrollPaddingEnd)i="end";else if(r.start<=s+this.options.scrollPaddingStart)i="start";else return[s,i];const a=i==="end"?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,i),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:i="start",behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,i),{adjustments:void 0,behavior:r})},this.scrollToIndex=(n,{align:i="auto",behavior:r}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,i);if(!o)return;const[s,a]=o;this._scrollToOffset(s,{adjustments:void 0,behavior:r}),r!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[d]=It(this.getOffsetForIndex(n,a));br(d,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:r})}else this.scrollToIndex(n,{align:a,behavior:r})}))},this.scrollBy=(n,{behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var n;const i=this.getMeasurements();let r;return i.length===0?r=this.options.paddingStart:r=this.options.lanes===1?((n=i[i.length-1])==null?void 0:n.end)??0:Math.max(...i.slice(-this.options.lanes).map(o=>o.end)),r-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(n,{adjustments:i,behavior:r})=>{this.options.scrollToFn(n,{behavior:r,adjustments:i},this)},this.measure=()=>{var n,i;this.itemSizeCache=new Map,(i=(n=this.options).onChange)==null||i.call(n,this,!1)},this.setOptions(t)}}const ni=(e,t,n,i)=>{for(;e<=t;){const r=(e+t)/2|0,o=n(r);if(o<i)e=r+1;else if(o>i)t=r-1;else return r}return e>0?e-1:0};function Ar({measurements:e,outerSize:t,scrollOffset:n}){const i=e.length-1,o=ni(0,i,a=>e[a].start,n);let s=o;for(;s<i&&e[s].end<n+t;)s++;return{startIndex:o,endIndex:s}}function Tr(e){const t=new Rr(A(e)),n=ji(t),i=t._didMount();return le(()=>A(e).getScrollElement(),r=>{r&&t._willUpdate()},{immediate:!0}),le(()=>A(e),r=>{t.setOptions({...r,onChange:(o,s)=>{var a;bn(n),(a=r.onChange)==null||a.call(r,o,s)}}),t._willUpdate(),bn(n)},{immediate:!0}),Ui(i),n}function Ir(e){return Tr(k(()=>({observeElementRect:Or,observeElementOffset:Er,scrollToFn:Cr,...A(e)})))}function ii(e,t,n){let i=M(n==null?void 0:n.value),r=k(()=>e.value!==void 0);return[k(()=>r.value?e.value:i.value),function(o){return r.value||(i.value=o),t==null?void 0:t(o)}]}function Br(){let e=Mt();return Ut(()=>e.dispose()),e}function Lr(){let e=Br();return t=>{e.dispose(),e.nextFrame(t)}}function On(e){return[e.screenX,e.screenY]}function ri(){let e=M([-1,-1]);return{wasMoved(t){let n=On(t);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(t){e.value=On(t)}}}function _r({container:e,accept:t,walk:n,enabled:i}){_e(()=>{let r=e.value;if(!r||i!==void 0&&!i.value)return;let o=Qn(e);if(!o)return;let s=Object.assign(l=>t(l),{acceptNode:t}),a=o.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,s,!1);for(;a.nextNode();)n(a.currentNode)})}var oi=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(oi||{});function Mr(e){throw new Error("Unexpected object: "+e)}var $=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))($||{});function Dt(e,t){let n=t.resolveItems();if(n.length<=0)return null;let i=t.resolveActiveIndex(),r=i??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return i}case 1:{r===-1&&(r=n.length);for(let o=r-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return i}case 2:{for(let o=r+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return i}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return i}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return i}case 5:return null;default:Mr(e)}}function Kt(e={},t=null,n=[]){for(let[i,r]of Object.entries(e))ai(n,si(t,i),r);return n}function si(e,t){return e?e+"["+t+"]":t}function ai(e,t,n){if(Array.isArray(n))for(let[i,r]of n.entries())ai(e,si(t,i.toString()),r);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):Kt(n,t,e)}var Dr={};function Pr(e,t){return e===t}var Nr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Nr||{}),$r=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))($r||{}),Vr=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Vr||{});let li=Symbol("ComboboxContext");function We(e){let t=$e(li,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,We),n}return t}let ui=Symbol("VirtualContext"),zr=ue({name:"VirtualProvider",setup(e,{slots:t}){let n=We("VirtualProvider"),i=k(()=>{let a=_(n.optionsRef);if(!a)return{start:0,end:0};let l=window.getComputedStyle(a);return{start:parseFloat(l.paddingBlockStart||l.paddingTop),end:parseFloat(l.paddingBlockEnd||l.paddingBottom)}}),r=Ir(k(()=>({scrollPaddingStart:i.value.start,scrollPaddingEnd:i.value.end,count:n.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return _(n.optionsRef)},overscan:12}))),o=k(()=>{var a;return(a=n.virtual.value)==null?void 0:a.options}),s=M(0);return le([o],()=>{s.value+=1}),Ht(ui,n.virtual.value?r:null),()=>[Ve("div",{style:{position:"relative",width:"100%",height:`${r.value.getTotalSize()}px`},ref:a=>{if(a){if(typeof process<"u"&&Dr.JEST_WORKER_ID!==void 0||n.activationTrigger.value===0)return;n.activeOptionIndex.value!==null&&n.virtual.value.options.length>n.activeOptionIndex.value&&r.value.scrollToIndex(n.activeOptionIndex.value)}}},r.value.getVirtualItems().map(a=>Wi(t.default({option:n.virtual.value.options[a.index],open:n.comboboxState.value===0})[0],{key:`${s.value}-${a.index}`,"data-index":a.index,"aria-setsize":n.virtual.value.options.length,"aria-posinset":a.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${a.start}px)`,overflowAnchor:"none"}})))]}}),Fr=ue({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:t,attrs:n,emit:i}){let r=M(1),o=M(null),s=M(null),a=M(null),l=M(null),d=M({static:!1,hold:!1}),u=M([]),c=M(null),f=M(2),y=M(!1);function w(m=O=>O){let O=c.value!==null?u.value[c.value]:null,T=m(u.value.slice()),I=T.length>0&&T[0].dataRef.order.value!==null?T.sort((N,q)=>N.dataRef.order.value-q.dataRef.order.value):ti(T,N=>_(N.dataRef.domRef)),P=O?I.indexOf(O):null;return P===-1&&(P=null),{options:I,activeOptionIndex:P}}let S=k(()=>e.multiple?1:0),R=k(()=>e.nullable),[E,x]=ii(k(()=>e.modelValue),m=>i("update:modelValue",m),k(()=>e.defaultValue)),h=k(()=>E.value===void 0?ee(S.value,{1:[],0:void 0}):E.value),v=null,p=null;function b(m){return ee(S.value,{0(){return x==null?void 0:x(m)},1:()=>{let O=K(g.value.value).slice(),T=K(m),I=O.findIndex(P=>g.compare(T,K(P)));return I===-1?O.push(T):O.splice(I,1),x==null?void 0:x(O)}})}let C=k(()=>{});le([C],([m],[O])=>{if(g.virtual.value&&m&&O&&c.value!==null){let T=m.indexOf(O[c.value]);T!==-1?c.value=T:c.value=null}});let g={comboboxState:r,value:h,mode:S,compare(m,O){if(typeof e.by=="string"){let T=e.by;return(m==null?void 0:m[T])===(O==null?void 0:O[T])}return e.by===null?Pr(m,O):e.by(m,O)},calculateIndex(m){return g.virtual.value?e.by===null?g.virtual.value.options.indexOf(m):g.virtual.value.options.findIndex(O=>g.compare(O,m)):u.value.findIndex(O=>g.compare(O.dataRef.value,m))},defaultValue:k(()=>e.defaultValue),nullable:R,immediate:k(()=>!1),virtual:k(()=>null),inputRef:s,labelRef:o,buttonRef:a,optionsRef:l,disabled:k(()=>e.disabled),options:u,change(m){x(m)},activeOptionIndex:k(()=>{if(y.value&&c.value===null&&(g.virtual.value?g.virtual.value.options.length>0:u.value.length>0)){if(g.virtual.value){let O=g.virtual.value.options.findIndex(T=>{var I;return!((I=g.virtual.value)!=null&&I.disabled(T))});if(O!==-1)return O}let m=u.value.findIndex(O=>!O.dataRef.disabled);if(m!==-1)return m}return c.value}),activationTrigger:f,optionsPropsRef:d,closeCombobox(){y.value=!1,!e.disabled&&r.value!==1&&(r.value=1,c.value=null)},openCombobox(){if(y.value=!0,!e.disabled&&r.value!==0){if(g.value.value){let m=g.calculateIndex(g.value.value);m!==-1&&(c.value=m)}r.value=0}},setActivationTrigger(m){f.value=m},goToOption(m,O,T){y.value=!1,v!==null&&cancelAnimationFrame(v),v=requestAnimationFrame(()=>{if(e.disabled||l.value&&!d.value.static&&r.value===1)return;if(g.virtual.value){c.value=m===$.Specific?O:Dt({focus:m},{resolveItems:()=>g.virtual.value.options,resolveActiveIndex:()=>{var N,q;return(q=(N=g.activeOptionIndex.value)!=null?N:g.virtual.value.options.findIndex(H=>{var oe;return!((oe=g.virtual.value)!=null&&oe.disabled(H))}))!=null?q:null},resolveDisabled:N=>g.virtual.value.disabled(N),resolveId(){throw new Error("Function not implemented.")}}),f.value=T??2;return}let I=w();if(I.activeOptionIndex===null){let N=I.options.findIndex(q=>!q.dataRef.disabled);N!==-1&&(I.activeOptionIndex=N)}let P=m===$.Specific?O:Dt({focus:m},{resolveItems:()=>I.options,resolveActiveIndex:()=>I.activeOptionIndex,resolveId:N=>N.id,resolveDisabled:N=>N.dataRef.disabled});c.value=P,f.value=T??2,u.value=I.options})},selectOption(m){let O=u.value.find(I=>I.id===m);if(!O)return;let{dataRef:T}=O;b(T.value)},selectActiveOption(){if(g.activeOptionIndex.value!==null){if(g.virtual.value)b(g.virtual.value.options[g.activeOptionIndex.value]);else{let{dataRef:m}=u.value[g.activeOptionIndex.value];b(m.value)}g.goToOption($.Specific,g.activeOptionIndex.value)}},registerOption(m,O){let T=Hi({id:m,dataRef:O});if(g.virtual.value){u.value.push(T);return}p&&cancelAnimationFrame(p);let I=w(P=>(P.push(T),P));c.value===null&&g.isSelected(O.value.value)&&(I.activeOptionIndex=I.options.indexOf(T)),u.value=I.options,c.value=I.activeOptionIndex,f.value=2,I.options.some(P=>!_(P.dataRef.domRef))&&(p=requestAnimationFrame(()=>{let P=w();u.value=P.options,c.value=P.activeOptionIndex}))},unregisterOption(m,O){if(v!==null&&cancelAnimationFrame(v),O&&(y.value=!0),g.virtual.value){u.value=u.value.filter(I=>I.id!==m);return}let T=w(I=>{let P=I.findIndex(N=>N.id===m);return P!==-1&&I.splice(P,1),I});u.value=T.options,c.value=T.activeOptionIndex,f.value=2},isSelected(m){return ee(S.value,{0:()=>g.compare(K(g.value.value),K(m)),1:()=>K(g.value.value).some(O=>g.compare(K(O),K(m)))})},isActive(m){return c.value===g.calculateIndex(m)}};Zn([s,a,l],()=>g.closeCombobox(),k(()=>r.value===0)),Ht(li,g),Kn(k(()=>ee(r.value,{0:Re.Open,1:Re.Closed})));let B=k(()=>{var m;return(m=_(s))==null?void 0:m.closest("form")});return we(()=>{le([B],()=>{if(!B.value||e.defaultValue===void 0)return;function m(){g.change(e.defaultValue)}return B.value.addEventListener("reset",m),()=>{var O;(O=B.value)==null||O.removeEventListener("reset",m)}},{immediate:!0})}),()=>{var m,O,T;let{name:I,disabled:P,form:N,...q}=e,H={open:r.value===0,disabled:P,activeIndex:g.activeOptionIndex.value,activeOption:g.activeOptionIndex.value===null?null:g.virtual.value?g.virtual.value.options[(m=g.activeOptionIndex.value)!=null?m:0]:(T=(O=g.options.value[g.activeOptionIndex.value])==null?void 0:O.dataRef.value)!=null?T:null,value:h.value};return Ve(ze,[...I!=null&&h.value!=null?Kt({[I]:h.value}).map(([oe,ce])=>Ve(Gn,Yn({features:ei.Hidden,key:oe,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:N,disabled:P,name:oe,value:ce}))):[],Ee({theirProps:{...n,...Ot(q,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:H,slots:t,attrs:n,name:"Combobox"})])}}}),qr=ue({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:i}){var r;let o=(r=e.id)!=null?r:`headlessui-combobox-button-${De()}`,s=We("ComboboxButton");i({el:s.buttonRef,$el:s.buttonRef});function a(u){s.disabled.value||(s.comboboxState.value===0?s.closeCombobox():(u.preventDefault(),s.openCombobox()),G(()=>{var c;return(c=_(s.inputRef))==null?void 0:c.focus({preventScroll:!0})}))}function l(u){switch(u.key){case V.ArrowDown:u.preventDefault(),u.stopPropagation(),s.comboboxState.value===1&&s.openCombobox(),G(()=>{var c;return(c=s.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return;case V.ArrowUp:u.preventDefault(),u.stopPropagation(),s.comboboxState.value===1&&(s.openCombobox(),G(()=>{s.value.value||s.goToOption($.Last)})),G(()=>{var c;return(c=s.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return;case V.Escape:if(s.comboboxState.value!==0)return;u.preventDefault(),s.optionsRef.value&&!s.optionsPropsRef.value.static&&u.stopPropagation(),s.closeCombobox(),G(()=>{var c;return(c=s.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return}}let d=Xn(k(()=>({as:e.as,type:t.type})),s.buttonRef);return()=>{var u,c;let f={open:s.comboboxState.value===0,disabled:s.disabled.value,value:s.value.value},{...y}=e,w={ref:s.buttonRef,id:o,type:d.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(u=_(s.optionsRef))==null?void 0:u.id,"aria-expanded":s.comboboxState.value===0,"aria-labelledby":s.labelRef.value?[(c=_(s.labelRef))==null?void 0:c.id,o].join(" "):void 0,disabled:s.disabled.value===!0?!0:void 0,onKeydown:l,onClick:a};return Ee({ourProps:w,theirProps:y,slot:f,attrs:t,slots:n,name:"ComboboxButton"})}}}),jr=ue({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:t,attrs:n,slots:i,expose:r}){var o;let s=(o=e.id)!=null?o:`headlessui-combobox-input-${De()}`,a=We("ComboboxInput"),l=k(()=>Qn(_(a.inputRef))),d={value:!1};r({el:a.inputRef,$el:a.inputRef});function u(){a.change(null);let p=_(a.optionsRef);p&&(p.scrollTop=0),a.goToOption($.Nothing)}let c=k(()=>{var p;let b=a.value.value;return _(a.inputRef)?typeof e.displayValue<"u"&&b!==void 0?(p=e.displayValue(b))!=null?p:"":typeof b=="string"?b:"":""});we(()=>{le([c,a.comboboxState,l],([p,b],[C,g])=>{if(d.value)return;let B=_(a.inputRef);B&&((g===0&&b===1||p!==C)&&(B.value=p),requestAnimationFrame(()=>{var m;if(d.value||!B||((m=l.value)==null?void 0:m.activeElement)!==B)return;let{selectionStart:O,selectionEnd:T}=B;Math.abs((T??0)-(O??0))===0&&O===0&&B.setSelectionRange(B.value.length,B.value.length)}))},{immediate:!0}),le([a.comboboxState],([p],[b])=>{if(p===0&&b===1){if(d.value)return;let C=_(a.inputRef);if(!C)return;let g=C.value,{selectionStart:B,selectionEnd:m,selectionDirection:O}=C;C.value="",C.value=g,O!==null?C.setSelectionRange(B,m,O):C.setSelectionRange(B,m)}})});let f=M(!1);function y(){f.value=!0}function w(){Mt().nextFrame(()=>{f.value=!1})}let S=Lr();function R(p){switch(d.value=!0,S(()=>{d.value=!1}),p.key){case V.Enter:if(d.value=!1,a.comboboxState.value!==0||f.value)return;if(p.preventDefault(),p.stopPropagation(),a.activeOptionIndex.value===null){a.closeCombobox();return}a.selectActiveOption(),a.mode.value===0&&a.closeCombobox();break;case V.ArrowDown:return d.value=!1,p.preventDefault(),p.stopPropagation(),ee(a.comboboxState.value,{0:()=>a.goToOption($.Next),1:()=>a.openCombobox()});case V.ArrowUp:return d.value=!1,p.preventDefault(),p.stopPropagation(),ee(a.comboboxState.value,{0:()=>a.goToOption($.Previous),1:()=>{a.openCombobox(),G(()=>{a.value.value||a.goToOption($.Last)})}});case V.Home:if(p.shiftKey)break;return d.value=!1,p.preventDefault(),p.stopPropagation(),a.goToOption($.First);case V.PageUp:return d.value=!1,p.preventDefault(),p.stopPropagation(),a.goToOption($.First);case V.End:if(p.shiftKey)break;return d.value=!1,p.preventDefault(),p.stopPropagation(),a.goToOption($.Last);case V.PageDown:return d.value=!1,p.preventDefault(),p.stopPropagation(),a.goToOption($.Last);case V.Escape:if(d.value=!1,a.comboboxState.value!==0)return;p.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&p.stopPropagation(),a.nullable.value&&a.mode.value===0&&a.value.value===null&&u(),a.closeCombobox();break;case V.Tab:if(d.value=!1,a.comboboxState.value!==0)return;a.mode.value===0&&a.activationTrigger.value!==1&&a.selectActiveOption(),a.closeCombobox();break}}function E(p){t("change",p),a.nullable.value&&a.mode.value===0&&p.target.value===""&&u(),a.openCombobox()}function x(p){var b,C,g;let B=(b=p.relatedTarget)!=null?b:wn.find(m=>m!==p.currentTarget);if(d.value=!1,!((C=_(a.optionsRef))!=null&&C.contains(B))&&!((g=_(a.buttonRef))!=null&&g.contains(B))&&a.comboboxState.value===0)return p.preventDefault(),a.mode.value===0&&(a.nullable.value&&a.value.value===null?u():a.activationTrigger.value!==1&&a.selectActiveOption()),a.closeCombobox()}function h(p){var b,C,g;let B=(b=p.relatedTarget)!=null?b:wn.find(m=>m!==p.currentTarget);(C=_(a.buttonRef))!=null&&C.contains(B)||(g=_(a.optionsRef))!=null&&g.contains(B)||a.disabled.value||a.immediate.value&&a.comboboxState.value!==0&&(a.openCombobox(),Mt().nextFrame(()=>{a.setActivationTrigger(1)}))}let v=k(()=>{var p,b,C,g;return(g=(C=(b=e.defaultValue)!=null?b:a.defaultValue.value!==void 0?(p=e.displayValue)==null?void 0:p.call(e,a.defaultValue.value):null)!=null?C:a.defaultValue.value)!=null?g:""});return()=>{var p,b,C,g,B,m,O;let T={open:a.comboboxState.value===0},{displayValue:I,onChange:P,...N}=e,q={"aria-controls":(p=a.optionsRef.value)==null?void 0:p.id,"aria-expanded":a.comboboxState.value===0,"aria-activedescendant":a.activeOptionIndex.value===null?void 0:a.virtual.value?(b=a.options.value.find(H=>!a.virtual.value.disabled(H.dataRef.value)&&a.compare(H.dataRef.value,a.virtual.value.options[a.activeOptionIndex.value])))==null?void 0:b.id:(C=a.options.value[a.activeOptionIndex.value])==null?void 0:C.id,"aria-labelledby":(m=(g=_(a.labelRef))==null?void 0:g.id)!=null?m:(B=_(a.buttonRef))==null?void 0:B.id,"aria-autocomplete":"list",id:s,onCompositionstart:y,onCompositionend:w,onKeydown:R,onInput:E,onFocus:h,onBlur:x,role:"combobox",type:(O=n.type)!=null?O:"text",tabIndex:0,ref:a.inputRef,defaultValue:v.value,disabled:a.disabled.value===!0?!0:void 0};return Ee({ourProps:q,theirProps:N,slot:T,attrs:n,slots:i,features:Fe.RenderStrategy|Fe.Static,name:"ComboboxInput"})}}}),Ur=ue({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:n,expose:i}){let r=We("ComboboxOptions"),o=`headlessui-combobox-options-${De()}`;i({el:r.optionsRef,$el:r.optionsRef}),_e(()=>{r.optionsPropsRef.value.static=e.static}),_e(()=>{r.optionsPropsRef.value.hold=e.hold});let s=Jn(),a=k(()=>s!==null?(s.value&Re.Open)===Re.Open:r.comboboxState.value===0);_r({container:k(()=>_(r.optionsRef)),enabled:k(()=>r.comboboxState.value===0),accept(d){return d.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}});function l(d){d.preventDefault()}return()=>{var d,u,c;let f={open:r.comboboxState.value===0},y={"aria-labelledby":(c=(d=_(r.labelRef))==null?void 0:d.id)!=null?c:(u=_(r.buttonRef))==null?void 0:u.id,id:o,ref:r.optionsRef,role:"listbox","aria-multiselectable":r.mode.value===1?!0:void 0,onMousedown:l},w=Ot(e,["hold"]);return Ee({ourProps:y,theirProps:w,slot:f,attrs:t,slots:r.virtual.value&&r.comboboxState.value===0?{...n,default:()=>[Ve(zr,{},n.default)]}:n,features:Fe.RenderStrategy|Fe.Static,visible:a.value,name:"ComboboxOptions"})}}}),Hr=ue({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:t,attrs:n,expose:i}){let r=We("ComboboxOption"),o=`headlessui-combobox-option-${De()}`,s=M(null),a=k(()=>e.disabled);i({el:s,$el:s});let l=k(()=>{var x;return r.virtual.value?r.activeOptionIndex.value===r.calculateIndex(e.value):r.activeOptionIndex.value===null?!1:((x=r.options.value[r.activeOptionIndex.value])==null?void 0:x.id)===o}),d=k(()=>r.isSelected(e.value)),u=$e(ui,null),c=k(()=>({disabled:e.disabled,value:e.value,domRef:s,order:k(()=>e.order)}));we(()=>r.registerOption(o,c)),Ut(()=>r.unregisterOption(o,l.value)),_e(()=>{let x=_(s);x&&(u==null||u.value.measureElement(x))}),_e(()=>{r.comboboxState.value===0&&l.value&&(r.virtual.value||r.activationTrigger.value!==0&&G(()=>{var x,h;return(h=(x=_(s))==null?void 0:x.scrollIntoView)==null?void 0:h.call(x,{block:"nearest"})}))});function f(x){x.preventDefault(),x.button===oi.Left&&(a.value||(r.selectOption(o),cr()||requestAnimationFrame(()=>{var h;return(h=_(r.inputRef))==null?void 0:h.focus({preventScroll:!0})}),r.mode.value===0&&r.closeCombobox()))}function y(){var x;if(e.disabled||(x=r.virtual.value)!=null&&x.disabled(e.value))return r.goToOption($.Nothing);let h=r.calculateIndex(e.value);r.goToOption($.Specific,h)}let w=ri();function S(x){w.update(x)}function R(x){var h;if(!w.wasMoved(x)||e.disabled||(h=r.virtual.value)!=null&&h.disabled(e.value)||l.value)return;let v=r.calculateIndex(e.value);r.goToOption($.Specific,v,0)}function E(x){var h;w.wasMoved(x)&&(e.disabled||(h=r.virtual.value)!=null&&h.disabled(e.value)||l.value&&(r.optionsPropsRef.value.hold||r.goToOption($.Nothing)))}return()=>{let{disabled:x}=e,h={active:l.value,selected:d.value,disabled:x},v={id:o,ref:s,role:"option",tabIndex:x===!0?void 0:-1,"aria-disabled":x===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onMousedown:f,onFocus:y,onPointerenter:S,onMouseenter:S,onPointermove:R,onMousemove:R,onPointerleave:E,onMouseleave:E},p=Ot(e,["order","value"]);return Ee({ourProps:v,theirProps:p,slot:h,attrs:n,slots:t,name:"ComboboxOption"})}}}),Sn=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function En(e){var t,n;let i=(t=e.innerText)!=null?t:"",r=e.cloneNode(!0);if(!(r instanceof HTMLElement))return i;let o=!1;for(let a of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),o=!0;let s=o?(n=r.innerText)!=null?n:"":i;return Sn.test(s)&&(s=s.replace(Sn,"")),s}function Wr(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let i=n.split(" ").map(r=>{let o=document.getElementById(r);if(o){let s=o.getAttribute("aria-label");return typeof s=="string"?s.trim():En(o).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return En(e).trim()}function Kr(e){let t=M(""),n=M("");return()=>{let i=_(e);if(!i)return"";let r=i.innerText;if(t.value===r)return n.value;let o=Wr(i).trim().toLowerCase();return t.value=r,n.value=o,o}}function Yr(e,t){return e===t}var Xr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Xr||{}),Jr=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Jr||{}),Qr=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Qr||{});function Zr(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let ci=Symbol("ListboxContext");function St(e){let t=$e(ci,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,St),n}return t}let Gr=ue({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Yr},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:t,attrs:n,emit:i}){let r=M(1),o=M(null),s=M(null),a=M(null),l=M([]),d=M(""),u=M(null),c=M(1);function f(h=v=>v){let v=u.value!==null?l.value[u.value]:null,p=ti(h(l.value.slice()),C=>_(C.dataRef.domRef)),b=v?p.indexOf(v):null;return b===-1&&(b=null),{options:p,activeOptionIndex:b}}let y=k(()=>e.multiple?1:0),[w,S]=ii(k(()=>e.modelValue),h=>i("update:modelValue",h),k(()=>e.defaultValue)),R=k(()=>w.value===void 0?ee(y.value,{1:[],0:void 0}):w.value),E={listboxState:r,value:R,mode:y,compare(h,v){if(typeof e.by=="string"){let p=e.by;return(h==null?void 0:h[p])===(v==null?void 0:v[p])}return e.by(h,v)},orientation:k(()=>e.horizontal?"horizontal":"vertical"),labelRef:o,buttonRef:s,optionsRef:a,disabled:k(()=>e.disabled),options:l,searchQuery:d,activeOptionIndex:u,activationTrigger:c,closeListbox(){e.disabled||r.value!==1&&(r.value=1,u.value=null)},openListbox(){e.disabled||r.value!==0&&(r.value=0)},goToOption(h,v,p){if(e.disabled||r.value===1)return;let b=f(),C=Dt(h===$.Specific?{focus:$.Specific,id:v}:{focus:h},{resolveItems:()=>b.options,resolveActiveIndex:()=>b.activeOptionIndex,resolveId:g=>g.id,resolveDisabled:g=>g.dataRef.disabled});d.value="",u.value=C,c.value=p??1,l.value=b.options},search(h){if(e.disabled||r.value===1)return;let v=d.value!==""?0:1;d.value+=h.toLowerCase();let p=(u.value!==null?l.value.slice(u.value+v).concat(l.value.slice(0,u.value+v)):l.value).find(C=>C.dataRef.textValue.startsWith(d.value)&&!C.dataRef.disabled),b=p?l.value.indexOf(p):-1;b===-1||b===u.value||(u.value=b,c.value=1)},clearSearch(){e.disabled||r.value!==1&&d.value!==""&&(d.value="")},registerOption(h,v){let p=f(b=>[...b,{id:h,dataRef:v}]);l.value=p.options,u.value=p.activeOptionIndex},unregisterOption(h){let v=f(p=>{let b=p.findIndex(C=>C.id===h);return b!==-1&&p.splice(b,1),p});l.value=v.options,u.value=v.activeOptionIndex,c.value=1},theirOnChange(h){e.disabled||S(h)},select(h){e.disabled||S(ee(y.value,{0:()=>h,1:()=>{let v=K(E.value.value).slice(),p=K(h),b=v.findIndex(C=>E.compare(p,K(C)));return b===-1?v.push(p):v.splice(b,1),v}}))}};Zn([s,a],(h,v)=>{var p;E.closeListbox(),dr(v,fr.Loose)||(h.preventDefault(),(p=_(s))==null||p.focus())},k(()=>r.value===0)),Ht(ci,E),Kn(k(()=>ee(r.value,{0:Re.Open,1:Re.Closed})));let x=k(()=>{var h;return(h=_(s))==null?void 0:h.closest("form")});return we(()=>{le([x],()=>{if(!x.value||e.defaultValue===void 0)return;function h(){E.theirOnChange(e.defaultValue)}return x.value.addEventListener("reset",h),()=>{var v;(v=x.value)==null||v.removeEventListener("reset",h)}},{immediate:!0})}),()=>{let{name:h,modelValue:v,disabled:p,form:b,...C}=e,g={open:r.value===0,disabled:p,value:R.value};return Ve(ze,[...h!=null&&R.value!=null?Kt({[h]:R.value}).map(([B,m])=>Ve(Gn,Yn({features:ei.Hidden,key:B,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:b,disabled:p,name:B,value:m}))):[],Ee({ourProps:{},theirProps:{...n,...Ot(C,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:g,slots:t,attrs:n,name:"Listbox"})])}}}),eo=ue({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:i}){var r;let o=(r=e.id)!=null?r:`headlessui-listbox-button-${De()}`,s=St("ListboxButton");i({el:s.buttonRef,$el:s.buttonRef});function a(c){switch(c.key){case V.Space:case V.Enter:case V.ArrowDown:c.preventDefault(),s.openListbox(),G(()=>{var f;(f=_(s.optionsRef))==null||f.focus({preventScroll:!0}),s.value.value||s.goToOption($.First)});break;case V.ArrowUp:c.preventDefault(),s.openListbox(),G(()=>{var f;(f=_(s.optionsRef))==null||f.focus({preventScroll:!0}),s.value.value||s.goToOption($.Last)});break}}function l(c){switch(c.key){case V.Space:c.preventDefault();break}}function d(c){s.disabled.value||(s.listboxState.value===0?(s.closeListbox(),G(()=>{var f;return(f=_(s.buttonRef))==null?void 0:f.focus({preventScroll:!0})})):(c.preventDefault(),s.openListbox(),Zr(()=>{var f;return(f=_(s.optionsRef))==null?void 0:f.focus({preventScroll:!0})})))}let u=Xn(k(()=>({as:e.as,type:t.type})),s.buttonRef);return()=>{var c,f;let y={open:s.listboxState.value===0,disabled:s.disabled.value,value:s.value.value},{...w}=e,S={ref:s.buttonRef,id:o,type:u.value,"aria-haspopup":"listbox","aria-controls":(c=_(s.optionsRef))==null?void 0:c.id,"aria-expanded":s.listboxState.value===0,"aria-labelledby":s.labelRef.value?[(f=_(s.labelRef))==null?void 0:f.id,o].join(" "):void 0,disabled:s.disabled.value===!0?!0:void 0,onKeydown:a,onKeyup:l,onClick:d};return Ee({ourProps:S,theirProps:w,slot:y,attrs:t,slots:n,name:"ListboxButton"})}}}),to=ue({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:i}){var r;let o=(r=e.id)!=null?r:`headlessui-listbox-options-${De()}`,s=St("ListboxOptions"),a=M(null);i({el:s.optionsRef,$el:s.optionsRef});function l(c){switch(a.value&&clearTimeout(a.value),c.key){case V.Space:if(s.searchQuery.value!=="")return c.preventDefault(),c.stopPropagation(),s.search(c.key);case V.Enter:if(c.preventDefault(),c.stopPropagation(),s.activeOptionIndex.value!==null){let f=s.options.value[s.activeOptionIndex.value];s.select(f.dataRef.value)}s.mode.value===0&&(s.closeListbox(),G(()=>{var f;return(f=_(s.buttonRef))==null?void 0:f.focus({preventScroll:!0})}));break;case ee(s.orientation.value,{vertical:V.ArrowDown,horizontal:V.ArrowRight}):return c.preventDefault(),c.stopPropagation(),s.goToOption($.Next);case ee(s.orientation.value,{vertical:V.ArrowUp,horizontal:V.ArrowLeft}):return c.preventDefault(),c.stopPropagation(),s.goToOption($.Previous);case V.Home:case V.PageUp:return c.preventDefault(),c.stopPropagation(),s.goToOption($.First);case V.End:case V.PageDown:return c.preventDefault(),c.stopPropagation(),s.goToOption($.Last);case V.Escape:c.preventDefault(),c.stopPropagation(),s.closeListbox(),G(()=>{var f;return(f=_(s.buttonRef))==null?void 0:f.focus({preventScroll:!0})});break;case V.Tab:c.preventDefault(),c.stopPropagation();break;default:c.key.length===1&&(s.search(c.key),a.value=setTimeout(()=>s.clearSearch(),350));break}}let d=Jn(),u=k(()=>d!==null?(d.value&Re.Open)===Re.Open:s.listboxState.value===0);return()=>{var c,f;let y={open:s.listboxState.value===0},{...w}=e,S={"aria-activedescendant":s.activeOptionIndex.value===null||(c=s.options.value[s.activeOptionIndex.value])==null?void 0:c.id,"aria-multiselectable":s.mode.value===1?!0:void 0,"aria-labelledby":(f=_(s.buttonRef))==null?void 0:f.id,"aria-orientation":s.orientation.value,id:o,onKeydown:l,role:"listbox",tabIndex:0,ref:s.optionsRef};return Ee({ourProps:S,theirProps:w,slot:y,attrs:t,slots:n,features:Fe.RenderStrategy|Fe.Static,visible:u.value,name:"ListboxOptions"})}}}),no=ue({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:n,expose:i}){var r;let o=(r=e.id)!=null?r:`headlessui-listbox-option-${De()}`,s=St("ListboxOption"),a=M(null);i({el:a,$el:a});let l=k(()=>s.activeOptionIndex.value!==null?s.options.value[s.activeOptionIndex.value].id===o:!1),d=k(()=>ee(s.mode.value,{0:()=>s.compare(K(s.value.value),K(e.value)),1:()=>K(s.value.value).some(h=>s.compare(K(h),K(e.value)))})),u=k(()=>ee(s.mode.value,{1:()=>{var h;let v=K(s.value.value);return((h=s.options.value.find(p=>v.some(b=>s.compare(K(b),K(p.dataRef.value)))))==null?void 0:h.id)===o},0:()=>d.value})),c=Kr(a),f=k(()=>({disabled:e.disabled,value:e.value,get textValue(){return c()},domRef:a}));we(()=>s.registerOption(o,f)),Ut(()=>s.unregisterOption(o)),we(()=>{le([s.listboxState,d],()=>{s.listboxState.value===0&&d.value&&ee(s.mode.value,{1:()=>{u.value&&s.goToOption($.Specific,o)},0:()=>{s.goToOption($.Specific,o)}})},{immediate:!0})}),_e(()=>{s.listboxState.value===0&&l.value&&s.activationTrigger.value!==0&&G(()=>{var h,v;return(v=(h=_(a))==null?void 0:h.scrollIntoView)==null?void 0:v.call(h,{block:"nearest"})})});function y(h){if(e.disabled)return h.preventDefault();s.select(e.value),s.mode.value===0&&(s.closeListbox(),G(()=>{var v;return(v=_(s.buttonRef))==null?void 0:v.focus({preventScroll:!0})}))}function w(){if(e.disabled)return s.goToOption($.Nothing);s.goToOption($.Specific,o)}let S=ri();function R(h){S.update(h)}function E(h){S.wasMoved(h)&&(e.disabled||l.value||s.goToOption($.Specific,o,0))}function x(h){S.wasMoved(h)&&(e.disabled||l.value&&s.goToOption($.Nothing))}return()=>{let{disabled:h}=e,v={active:l.value,selected:d.value,disabled:h},{value:p,disabled:b,...C}=e,g={id:o,ref:a,role:"option",tabIndex:h===!0?void 0:-1,"aria-disabled":h===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onClick:y,onFocus:w,onPointerenter:R,onMouseenter:R,onPointermove:E,onMousemove:E,onPointerleave:x,onMouseleave:x};return Ee({ourProps:g,theirProps:C,slot:v,attrs:n,slots:t,name:"ListboxOption"})}}});function re(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Me(e){var t=re(e).Element;return e instanceof t||e instanceof Element}function ae(e){var t=re(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Yt(e){if(typeof ShadowRoot>"u")return!1;var t=re(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Le=Math.max,xt=Math.min,qe=Math.round;function Pt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function di(){return!/^((?!chrome|android).)*safari/i.test(Pt())}function je(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=e.getBoundingClientRect(),r=1,o=1;t&&ae(e)&&(r=e.offsetWidth>0&&qe(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&qe(i.height)/e.offsetHeight||1);var s=Me(e)?re(e):window,a=s.visualViewport,l=!di()&&n,d=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/o,c=i.width/r,f=i.height/o;return{width:c,height:f,top:u,right:d+c,bottom:u+f,left:d,x:d,y:u}}function Xt(e){var t=re(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function io(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ro(e){return e===re(e)||!ae(e)?Xt(e):io(e)}function xe(e){return e?(e.nodeName||"").toLowerCase():null}function Ae(e){return((Me(e)?e.ownerDocument:e.document)||window.document).documentElement}function Jt(e){return je(Ae(e)).left+Xt(e).scrollLeft}function Se(e){return re(e).getComputedStyle(e)}function Qt(e){var t=Se(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function oo(e){var t=e.getBoundingClientRect(),n=qe(t.width)/e.offsetWidth||1,i=qe(t.height)/e.offsetHeight||1;return n!==1||i!==1}function so(e,t,n){n===void 0&&(n=!1);var i=ae(t),r=ae(t)&&oo(t),o=Ae(t),s=je(e,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((xe(t)!=="body"||Qt(o))&&(a=ro(t)),ae(t)?(l=je(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Jt(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Zt(e){var t=je(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function Et(e){return xe(e)==="html"?e:e.assignedSlot||e.parentNode||(Yt(e)?e.host:null)||Ae(e)}function fi(e){return["html","body","#document"].indexOf(xe(e))>=0?e.ownerDocument.body:ae(e)&&Qt(e)?e:fi(Et(e))}function it(e,t){var n;t===void 0&&(t=[]);var i=fi(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),o=re(i),s=r?[o].concat(o.visualViewport||[],Qt(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(it(Et(s)))}function ao(e){return["table","td","th"].indexOf(xe(e))>=0}function kn(e){return!ae(e)||Se(e).position==="fixed"?null:e.offsetParent}function lo(e){var t=/firefox/i.test(Pt()),n=/Trident/i.test(Pt());if(n&&ae(e)){var i=Se(e);if(i.position==="fixed")return null}var r=Et(e);for(Yt(r)&&(r=r.host);ae(r)&&["html","body"].indexOf(xe(r))<0;){var o=Se(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function st(e){for(var t=re(e),n=kn(e);n&&ao(n)&&Se(n).position==="static";)n=kn(n);return n&&(xe(n)==="html"||xe(n)==="body"&&Se(n).position==="static")?t:n||lo(e)||t}var ne="top",he="bottom",ve="right",ie="left",Gt="auto",at=[ne,he,ve,ie],Ue="start",ot="end",uo="clippingParents",pi="viewport",Ze="popper",co="reference",Cn=at.reduce(function(e,t){return e.concat([t+"-"+Ue,t+"-"+ot])},[]),hi=[].concat(at,[Gt]).reduce(function(e,t){return e.concat([t,t+"-"+Ue,t+"-"+ot])},[]),fo="beforeRead",po="read",ho="afterRead",vo="beforeMain",mo="main",go="afterMain",bo="beforeWrite",yo="write",wo="afterWrite",xo=[fo,po,ho,vo,mo,go,bo,yo,wo];function Oo(e){var t=new Map,n=new Set,i=[];e.forEach(function(o){t.set(o.name,o)});function r(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&r(l)}}),i.push(o)}return e.forEach(function(o){n.has(o.name)||r(o)}),i}function So(e){var t=Oo(e);return xo.reduce(function(n,i){return n.concat(t.filter(function(r){return r.phase===i}))},[])}function Eo(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function ko(e){var t=e.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}function Co(e,t){var n=re(e),i=Ae(e),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var d=di();(d||!d&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+Jt(e),y:l}}function Ro(e){var t,n=Ae(e),i=Xt(e),r=(t=e.ownerDocument)==null?void 0:t.body,o=Le(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Le(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+Jt(e),l=-i.scrollTop;return Se(r||n).direction==="rtl"&&(a+=Le(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function vi(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Yt(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Nt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ao(e,t){var n=je(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Rn(e,t,n){return t===pi?Nt(Co(e,n)):Me(t)?Ao(t,n):Nt(Ro(Ae(e)))}function To(e){var t=it(Et(e)),n=["absolute","fixed"].indexOf(Se(e).position)>=0,i=n&&ae(e)?st(e):e;return Me(i)?t.filter(function(r){return Me(r)&&vi(r,i)&&xe(r)!=="body"}):[]}function Io(e,t,n,i){var r=t==="clippingParents"?To(e):[].concat(t),o=[].concat(r,[n]),s=o[0],a=o.reduce(function(l,d){var u=Rn(e,d,i);return l.top=Le(u.top,l.top),l.right=xt(u.right,l.right),l.bottom=xt(u.bottom,l.bottom),l.left=Le(u.left,l.left),l},Rn(e,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function be(e){return e.split("-")[0]}function He(e){return e.split("-")[1]}function en(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function mi(e){var t=e.reference,n=e.element,i=e.placement,r=i?be(i):null,o=i?He(i):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(r){case ne:l={x:s,y:t.y-n.height};break;case he:l={x:s,y:t.y+t.height};break;case ve:l={x:t.x+t.width,y:a};break;case ie:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var d=r?en(r):null;if(d!=null){var u=d==="y"?"height":"width";switch(o){case Ue:l[d]=l[d]-(t[u]/2-n[u]/2);break;case ot:l[d]=l[d]+(t[u]/2-n[u]/2);break}}return l}function gi(){return{top:0,right:0,bottom:0,left:0}}function bi(e){return Object.assign({},gi(),e)}function yi(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}function tn(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=i===void 0?e.placement:i,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,l=a===void 0?uo:a,d=n.rootBoundary,u=d===void 0?pi:d,c=n.elementContext,f=c===void 0?Ze:c,y=n.altBoundary,w=y===void 0?!1:y,S=n.padding,R=S===void 0?0:S,E=bi(typeof R!="number"?R:yi(R,at)),x=f===Ze?co:Ze,h=e.rects.popper,v=e.elements[w?x:f],p=Io(Me(v)?v:v.contextElement||Ae(e.elements.popper),l,u,s),b=je(e.elements.reference),C=mi({reference:b,element:h,strategy:"absolute",placement:r}),g=Nt(Object.assign({},h,C)),B=f===Ze?g:b,m={top:p.top-B.top+E.top,bottom:B.bottom-p.bottom+E.bottom,left:p.left-B.left+E.left,right:B.right-p.right+E.right},O=e.modifiersData.offset;if(f===Ze&&O){var T=O[r];Object.keys(m).forEach(function(I){var P=[ve,he].indexOf(I)>=0?1:-1,N=[ne,he].indexOf(I)>=0?"y":"x";m[I]+=T[N]*P})}return m}var An={placement:"bottom",modifiers:[],strategy:"absolute"};function Tn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Bo(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,r=t.defaultOptions,o=r===void 0?An:r;return function(a,l,d){d===void 0&&(d=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},An,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},c=[],f=!1,y={state:u,setOptions:function(E){var x=typeof E=="function"?E(u.options):E;S(),u.options=Object.assign({},o,u.options,x),u.scrollParents={reference:Me(a)?it(a):a.contextElement?it(a.contextElement):[],popper:it(l)};var h=So(ko([].concat(i,u.options.modifiers)));return u.orderedModifiers=h.filter(function(v){return v.enabled}),w(),y.update()},forceUpdate:function(){if(!f){var E=u.elements,x=E.reference,h=E.popper;if(Tn(x,h)){u.rects={reference:so(x,st(h),u.options.strategy==="fixed"),popper:Zt(h)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(m){return u.modifiersData[m.name]=Object.assign({},m.data)});for(var v=0;v<u.orderedModifiers.length;v++){if(u.reset===!0){u.reset=!1,v=-1;continue}var p=u.orderedModifiers[v],b=p.fn,C=p.options,g=C===void 0?{}:C,B=p.name;typeof b=="function"&&(u=b({state:u,options:g,name:B,instance:y})||u)}}}},update:Eo(function(){return new Promise(function(R){y.forceUpdate(),R(u)})}),destroy:function(){S(),f=!0}};if(!Tn(a,l))return y;y.setOptions(d).then(function(R){!f&&d.onFirstUpdate&&d.onFirstUpdate(R)});function w(){u.orderedModifiers.forEach(function(R){var E=R.name,x=R.options,h=x===void 0?{}:x,v=R.effect;if(typeof v=="function"){var p=v({state:u,name:E,instance:y,options:h}),b=function(){};c.push(p||b)}})}function S(){c.forEach(function(R){return R()}),c=[]}return y}}var ct={passive:!0};function Lo(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,l=re(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&d.forEach(function(u){u.addEventListener("scroll",n.update,ct)}),a&&l.addEventListener("resize",n.update,ct),function(){o&&d.forEach(function(u){u.removeEventListener("scroll",n.update,ct)}),a&&l.removeEventListener("resize",n.update,ct)}}const wi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Lo,data:{}};function _o(e){var t=e.state,n=e.name;t.modifiersData[n]=mi({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Mo={name:"popperOffsets",enabled:!0,phase:"read",fn:_o,data:{}};var Do={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Po(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:qe(n*r)/r||0,y:qe(i*r)/r||0}}function In(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,d=e.adaptive,u=e.roundOffsets,c=e.isFixed,f=s.x,y=f===void 0?0:f,w=s.y,S=w===void 0?0:w,R=typeof u=="function"?u({x:y,y:S}):{x:y,y:S};y=R.x,S=R.y;var E=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),h=ie,v=ne,p=window;if(d){var b=st(n),C="clientHeight",g="clientWidth";if(b===re(n)&&(b=Ae(n),Se(b).position!=="static"&&a==="absolute"&&(C="scrollHeight",g="scrollWidth")),b=b,r===ne||(r===ie||r===ve)&&o===ot){v=he;var B=c&&b===p&&p.visualViewport?p.visualViewport.height:b[C];S-=B-i.height,S*=l?1:-1}if(r===ie||(r===ne||r===he)&&o===ot){h=ve;var m=c&&b===p&&p.visualViewport?p.visualViewport.width:b[g];y-=m-i.width,y*=l?1:-1}}var O=Object.assign({position:a},d&&Do),T=u===!0?Po({x:y,y:S},re(n)):{x:y,y:S};if(y=T.x,S=T.y,l){var I;return Object.assign({},O,(I={},I[v]=x?"0":"",I[h]=E?"0":"",I.transform=(p.devicePixelRatio||1)<=1?"translate("+y+"px, "+S+"px)":"translate3d("+y+"px, "+S+"px, 0)",I))}return Object.assign({},O,(t={},t[v]=x?S+"px":"",t[h]=E?y+"px":"",t.transform="",t))}function No(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,d={placement:be(t.placement),variation:He(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,In(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,In(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const xi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:No,data:{}};function $o(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},r=t.attributes[n]||{},o=t.elements[n];!ae(o)||!xe(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Vo(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],o=t.attributes[i]||{},s=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]),a=s.reduce(function(l,d){return l[d]="",l},{});!ae(r)||!xe(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}const zo={name:"applyStyles",enabled:!0,phase:"write",fn:$o,effect:Vo,requires:["computeStyles"]};var Fo=[wi,Mo,xi,zo],qo={left:"right",right:"left",bottom:"top",top:"bottom"};function gt(e){return e.replace(/left|right|bottom|top/g,function(t){return qo[t]})}var jo={start:"end",end:"start"};function Bn(e){return e.replace(/start|end/g,function(t){return jo[t]})}function Uo(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,d=l===void 0?hi:l,u=He(i),c=u?a?Cn:Cn.filter(function(w){return He(w)===u}):at,f=c.filter(function(w){return d.indexOf(w)>=0});f.length===0&&(f=c);var y=f.reduce(function(w,S){return w[S]=tn(e,{placement:S,boundary:r,rootBoundary:o,padding:s})[be(S)],w},{});return Object.keys(y).sort(function(w,S){return y[w]-y[S]})}function Ho(e){if(be(e)===Gt)return[];var t=gt(e);return[Bn(e),t,Bn(t)]}function Wo(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,d=n.padding,u=n.boundary,c=n.rootBoundary,f=n.altBoundary,y=n.flipVariations,w=y===void 0?!0:y,S=n.allowedAutoPlacements,R=t.options.placement,E=be(R),x=E===R,h=l||(x||!w?[gt(R)]:Ho(R)),v=[R].concat(h).reduce(function(Pe,Ce){return Pe.concat(be(Ce)===Gt?Uo(t,{placement:Ce,boundary:u,rootBoundary:c,padding:d,flipVariations:w,allowedAutoPlacements:S}):Ce)},[]),p=t.rects.reference,b=t.rects.popper,C=new Map,g=!0,B=v[0],m=0;m<v.length;m++){var O=v[m],T=be(O),I=He(O)===Ue,P=[ne,he].indexOf(T)>=0,N=P?"width":"height",q=tn(t,{placement:O,boundary:u,rootBoundary:c,altBoundary:f,padding:d}),H=P?I?ve:ie:I?he:ne;p[N]>b[N]&&(H=gt(H));var oe=gt(H),ce=[];if(o&&ce.push(q[T]<=0),a&&ce.push(q[H]<=0,q[oe]<=0),ce.every(function(Pe){return Pe})){B=O,g=!1;break}C.set(O,ce)}if(g)for(var j=w?3:1,J=function(Ce){var Ye=v.find(function(lt){var Te=C.get(lt);if(Te)return Te.slice(0,Ce).every(function(Ct){return Ct})});if(Ye)return B=Ye,"break"},me=j;me>0;me--){var ke=J(me);if(ke==="break")break}t.placement!==B&&(t.modifiersData[i]._skip=!0,t.placement=B,t.reset=!0)}}const Ko={name:"flip",enabled:!0,phase:"main",fn:Wo,requiresIfExists:["offset"],data:{_skip:!1}};function Yo(e,t,n){var i=be(e),r=[ie,ne].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[ie,ve].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function Xo(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=r===void 0?[0,0]:r,s=hi.reduce(function(u,c){return u[c]=Yo(c,t.rects,o),u},{}),a=s[t.placement],l=a.x,d=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=d),t.modifiersData[i]=s}const Jo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Xo};function Qo(e){return e==="x"?"y":"x"}function rt(e,t,n){return Le(e,xt(t,n))}function Zo(e,t,n){var i=rt(e,t,n);return i>n?n:i}function Go(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,d=n.rootBoundary,u=n.altBoundary,c=n.padding,f=n.tether,y=f===void 0?!0:f,w=n.tetherOffset,S=w===void 0?0:w,R=tn(t,{boundary:l,rootBoundary:d,padding:c,altBoundary:u}),E=be(t.placement),x=He(t.placement),h=!x,v=en(E),p=Qo(v),b=t.modifiersData.popperOffsets,C=t.rects.reference,g=t.rects.popper,B=typeof S=="function"?S(Object.assign({},t.rects,{placement:t.placement})):S,m=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(b){if(o){var I,P=v==="y"?ne:ie,N=v==="y"?he:ve,q=v==="y"?"height":"width",H=b[v],oe=H+R[P],ce=H-R[N],j=y?-g[q]/2:0,J=x===Ue?C[q]:g[q],me=x===Ue?-g[q]:-C[q],ke=t.elements.arrow,Pe=y&&ke?Zt(ke):{width:0,height:0},Ce=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:gi(),Ye=Ce[P],lt=Ce[N],Te=rt(0,C[q],Pe[q]),Ct=h?C[q]/2-j-Te-Ye-m.mainAxis:J-Te-Ye-m.mainAxis,Pi=h?-C[q]/2+j+Te+lt+m.mainAxis:me+Te+lt+m.mainAxis,Rt=t.elements.arrow&&st(t.elements.arrow),Ni=Rt?v==="y"?Rt.clientTop||0:Rt.clientLeft||0:0,un=(I=O==null?void 0:O[v])!=null?I:0,$i=H+Ct-un-Ni,Vi=H+Pi-un,cn=rt(y?xt(oe,$i):oe,H,y?Le(ce,Vi):ce);b[v]=cn,T[v]=cn-H}if(a){var dn,zi=v==="x"?ne:ie,Fi=v==="x"?he:ve,Ie=b[p],ut=p==="y"?"height":"width",fn=Ie+R[zi],pn=Ie-R[Fi],At=[ne,ie].indexOf(E)!==-1,hn=(dn=O==null?void 0:O[p])!=null?dn:0,vn=At?fn:Ie-C[ut]-g[ut]-hn+m.altAxis,mn=At?Ie+C[ut]+g[ut]-hn-m.altAxis:pn,gn=y&&At?Zo(vn,Ie,mn):rt(y?vn:fn,Ie,y?mn:pn);b[p]=gn,T[p]=gn-Ie}t.modifiersData[i]=T}}const es={name:"preventOverflow",enabled:!0,phase:"main",fn:Go,requiresIfExists:["offset"]};var ts=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,bi(typeof t!="number"?t:yi(t,at))};function ns(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=be(n.placement),l=en(a),d=[ie,ve].indexOf(a)>=0,u=d?"height":"width";if(!(!o||!s)){var c=ts(r.padding,n),f=Zt(o),y=l==="y"?ne:ie,w=l==="y"?he:ve,S=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],R=s[l]-n.rects.reference[l],E=st(o),x=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,h=S/2-R/2,v=c[y],p=x-f[u]-c[w],b=x/2-f[u]/2+h,C=rt(v,b,p),g=l;n.modifiersData[i]=(t={},t[g]=C,t.centerOffset=C-b,t)}}function is(e){var t=e.state,n=e.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||vi(t.elements.popper,r)&&(t.elements.arrow=r))}const rs={name:"arrow",enabled:!0,phase:"main",fn:ns,effect:is,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},os=Bo({defaultModifiers:[...Fo,Jo,Ko,es,xi,wi,rs]});function ss({locked:e=!1,overflowPadding:t=8,offsetDistance:n=8,offsetSkid:i=0,gpuAcceleration:r=!0,adaptive:o=!0,scroll:s=!0,resize:a=!0,arrow:l=!1,placement:d,strategy:u},c){const f=M(null),y=M(null),w=M(null);return we(()=>{_e(S=>{if(!y.value||!f.value&&!(c!=null&&c.value))return;const R=yn(y),E=yn(f);if(!(R instanceof HTMLElement)||!E)return;const x={modifiers:[{name:"flip",enabled:!e},{name:"preventOverflow",options:{padding:t}},{name:"offset",options:{offset:[i,n]}},{name:"computeStyles",options:{adaptive:o,gpuAcceleration:r}},{name:"eventListeners",options:{scroll:s,resize:a}},{name:"arrow",enabled:l}]};d&&(x.placement=d),u&&(x.strategy=u),w.value=os(E,R,x),S(w.value.destroy)})}),[f,y,w]}const as=(e,t)=>{const n=$e("form-events",void 0),i=$e("form-group",void 0),r=$e("form-inputs",void 0);i&&(e!=null&&e.id&&(i.inputId.value=e==null?void 0:e.id),r&&(r.value[i.name.value]=i.inputId.value));const o=M(!1);function s(u,c){n&&n.emit({type:u,path:c})}function a(){s("blur",i==null?void 0:i.name.value),o.value=!0}function l(){s("change",i==null?void 0:i.name.value)}const d=qn(()=>{(o.value||i!=null&&i.eagerValidation.value)&&s("input",i==null?void 0:i.name.value)},300);return{inputId:k(()=>(e==null?void 0:e.id)??(i==null?void 0:i.inputId.value)),name:k(()=>(e==null?void 0:e.name)??(i==null?void 0:i.name.value)),size:k(()=>{var c;const u=t.size[i==null?void 0:i.size.value]?i==null?void 0:i.size.value:null;return(e==null?void 0:e.size)??u??((c=t==null?void 0:t.default)==null?void 0:c.size)}),color:k(()=>{var u;return(u=i==null?void 0:i.error)!=null&&u.value?"red":e==null?void 0:e.color}),emitFormBlur:a,emitFormInput:d,emitFormChange:l}},ge=jn(Be.ui.strategy,Be.ui.select,gr),dt=jn(Be.ui.strategy,Be.ui.selectMenu,Ki),ls=ue({components:{HCombobox:Fr,HComboboxButton:qr,HComboboxOptions:Ur,HComboboxOption:Hr,HComboboxInput:jr,HListbox:Gr,HListboxButton:eo,HListboxOptions:to,HListboxOption:no,UIcon:Un,UAvatar:Hn},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ge.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>ge.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>dt.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:"Search..."},searchableLazy:{type:Boolean,default:!1},clearSearchOnClose:{type:Boolean,default:()=>dt.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:String,default:()=>dt.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(ge.size).includes(e)}},color:{type:String,default:()=>ge.default.color,validator(e){return[...Be.ui.colors,...Object.keys(ge.color)].includes(e)}},variant:{type:String,default:()=>ge.default.variant,validator(e){return[...Object.keys(ge.variant),...Object.values(ge.color).flatMap(t=>Object.keys(t))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:t,slots:n}){const{ui:i,attrs:r}=_t("select",tt(e,"ui"),ge,tt(e,"class")),{ui:o}=_t("selectMenu",tt(e,"uiMenu"),dt),s=k(()=>Xi({},e.popper,o.value.popper)),[a,l]=ss(s.value),{size:d,rounded:u}=Ji({ui:i,props:e}),{emitFormBlur:c,emitFormChange:f,inputId:y,color:w,size:S,name:R}=as(e,ge),E=k(()=>d.value||S.value),x=M(""),h=k({get(){return e.query??x.value},set(j){x.value=j,t("update:query",j)}}),v=k(()=>{if(e.multiple)return Array.isArray(e.modelValue)&&e.modelValue.length?`${e.modelValue.length} selected`:null;if(e.modelValue!==void 0&&e.modelValue!==null)if(e.valueAttribute){const j=e.options.find(J=>J[e.valueAttribute]===e.modelValue);return j?j[e.optionAttribute]:null}else return["string","number"].includes(typeof e.modelValue)?e.modelValue:e.modelValue[e.optionAttribute];return null}),p=k(()=>{var J,me;const j=((me=(J=i.value.color)==null?void 0:J[w.value])==null?void 0:me[e.variant])||i.value.variant[e.variant];return Qi(Xe(i.value.base,o.value.select,u.value,i.value.size[E.value],i.value.gap[E.value],e.padded?i.value.padding[E.value]:"p-0",j==null?void 0:j.replaceAll("{color}",w.value),(b.value||n.leading)&&i.value.leading.padding[E.value],(C.value||n.trailing)&&i.value.trailing.padding[E.value]),e.placeholder&&!e.modelValue&&i.value.placeholder,e.selectClass)}),b=k(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),C=k(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),g=k(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),B=k(()=>e.loading&&!b.value?e.loadingIcon:e.trailingIcon||e.icon),m=k(()=>Xe(i.value.icon.leading.wrapper,i.value.icon.leading.pointer,i.value.icon.leading.padding[E.value])),O=k(()=>Xe(i.value.icon.base,w.value&&Be.ui.colors.includes(w.value)&&i.value.icon.color.replaceAll("{color}",w.value),i.value.icon.size[E.value],e.loading&&i.value.icon.loading)),T=k(()=>Xe(i.value.icon.trailing.wrapper,i.value.icon.trailing.pointer,i.value.icon.trailing.padding[E.value])),I=k(()=>Xe(i.value.icon.base,w.value&&Be.ui.colors.includes(w.value)&&i.value.icon.color.replaceAll("{color}",w.value),i.value.icon.size[E.value],e.loading&&!b.value&&i.value.icon.loading)),P=typeof e.searchable=="function"?qn(e.searchable,e.debounce):void 0,N=Zi(async()=>e.searchable&&P?await P(h.value):h.value===""?e.options:e.options.filter(j=>{var J;return((J=e.searchAttributes)!=null&&J.length?e.searchAttributes:[e.optionAttribute]).some(me=>{if(["string","number"].includes(typeof j))return String(j).search(new RegExp(h.value,"i"))!==-1;const ke=Gi(j,me);return ke!=null&&String(ke).search(new RegExp(h.value,"i"))!==-1})}),[],{lazy:e.searchableLazy}),q=k(()=>h.value===""||e.showCreateOptionWhen==="empty"&&N.value.length||e.showCreateOptionWhen==="always"&&N.value.find(J=>["string","number"].includes(typeof J)?J===h.value:J[e.optionAttribute]===h.value)?null:["string","number"].includes(typeof e.modelValue)?h.value:{[e.optionAttribute]:h.value});function H(){e.clearSearchOnClose&&(h.value="")}le(l,j=>{j?t("open"):(H(),t("close"),c())});function oe(j){t("update:modelValue",j),t("change",j),f()}function ce(j){h.value=j.target.value}return lr(()=>ur("$YMH7mn4R4k")),{ui:i,uiMenu:o,attrs:r,name:R,inputId:y,popper:s,trigger:a,container:l,label:v,isLeading:b,isTrailing:C,selectClass:p,leadingIconName:g,leadingIconClass:O,leadingWrapperIconClass:m,trailingIconName:B,trailingIconClass:I,trailingWrapperIconClass:T,filteredOptions:N,createOption:q,query:h,onUpdate:oe,onQueryChange:ce}}}),us=["value","required"],cs=["id","disabled"],ds={class:"truncate"};function fs(e,t,n,i,r,o){const s=Un,a=er("HComboboxInput"),l=Hn;return L(),Y(Je(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:z(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:te(({open:d})=>[e.required?(L(),F("input",{key:0,value:e.modelValue,required:e.required,class:z(e.uiMenu.required),tabindex:"-1","aria-hidden":"true"},null,10,us)):U("",!0),(L(),Y(Je(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:z(e.uiMenu.trigger)},{default:te(()=>[de(e.$slots,"default",{open:d,disabled:e.disabled,loading:e.loading},()=>[Q("button",mt({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(L(),F("span",{key:0,class:z(e.leadingWrapperIconClass)},[de(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[Z(s,{name:e.leadingIconName,class:z(e.leadingIconClass)},null,8,["name","class"])])],2)):U("",!0),de(e.$slots,"label",{},()=>[e.label?(L(),F("span",{key:0,class:z(e.uiMenu.label)},pe(e.label),3)):(L(),F("span",{key:1,class:z(e.uiMenu.label)},pe(e.placeholder||" "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(L(),F("span",{key:1,class:z(e.trailingWrapperIconClass)},[de(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[Z(s,{name:e.trailingIconName,class:z(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):U("",!0)],16,cs)])]),_:2},1032,["class"])),d?(L(),F("div",{key:1,ref:"container",class:z([e.uiMenu.container,e.uiMenu.width])},[Z(tr,mt({appear:""},e.uiMenu.transition),{default:te(()=>[Q("div",null,[e.popper.arrow?(L(),F("div",{key:0,"data-popper-arrow":"",class:z(Object.values(e.uiMenu.arrow))},null,2)):U("",!0),(L(),Y(Je(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:z([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:te(()=>{var u,c;return[e.searchable?(L(),Y(a,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:z(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):U("",!0),(L(!0),F(ze,null,Wt(e.filteredOptions,(f,y)=>(L(),Y(Je(e.searchable?"HComboboxOption":"HListboxOption"),{key:y,as:"template",value:e.valueAttribute?f[e.valueAttribute]:f,disabled:f.disabled},{default:te(({active:w,selected:S,disabled:R})=>[Q("li",{class:z([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,w?e.uiMenu.option.active:e.uiMenu.option.inactive,S&&e.uiMenu.option.selected,R&&e.uiMenu.option.disabled])},[Q("div",{class:z(e.uiMenu.option.container)},[de(e.$slots,"option",{option:f,active:w,selected:S},()=>[f.icon?(L(),Y(s,{key:0,name:f.icon,class:z([e.uiMenu.option.icon.base,w?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,f.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):f.avatar?(L(),Y(l,mt({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...f.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):f.chip?(L(),F("span",{key:2,class:z(e.uiMenu.option.chip.base),style:nr({background:`#${f.chip}`})},null,6)):U("",!0),Q("span",ds,pe(["string","number"].includes(typeof f)?f:f[e.optionAttribute]),1)])],2),S?(L(),F("span",{key:0,class:z([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[Z(s,{name:e.selectedIcon,class:z(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):U("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(L(),Y(Je(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:te(({active:f,selected:y})=>[Q("li",{class:z([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,f?e.uiMenu.option.active:e.uiMenu.option.inactive])},[Q("div",{class:z(e.uiMenu.option.container)},[de(e.$slots,"option-create",{option:e.createOption,active:f,selected:y},()=>[Q("span",{class:z(e.uiMenu.option.create)},'Create "'+pe(e.createOption[e.optionAttribute])+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((u=e.filteredOptions)!=null&&u.length)?(L(),F("p",{key:2,class:z(e.uiMenu.option.empty)},[de(e.$slots,"option-empty",{query:e.query},()=>[nt(' No results for "'+pe(e.query)+'". ',1)])],2)):(c=e.filteredOptions)!=null&&c.length?U("",!0):(L(),F("p",{key:3,class:z(e.uiMenu.empty)},[de(e.$slots,"empty",{query:e.query},()=>[nt(" No options. ")])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):U("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const ps=Yi(ls,[["render",fs]]),hs=ue({inheritAttrs:!1,__name:"DashboardToolbar",props:{class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(e){const t={wrapper:"min-h-[49px] flex-shrink-0 flex items-center border-b border-gray-200 dark:border-gray-800 px-4 py-2 gap-x-4",container:"flex items-center justify-between flex-1 gap-x-1.5",left:"flex items-stretch gap-1.5",right:"flex items-stretch gap-1.5"},n=e,{ui:i,attrs:r}=_t("dashboard.toolbar",tt(n,"ui"),t,tt(n,"class"),!0);return(o,s)=>(L(),F("div",mt({class:A(i).wrapper},A(r)),[Q("div",{class:z(A(i).container)},[de(o.$slots,"default",{},()=>[Q("div",{class:z(A(i).left)},[de(o.$slots,"left")],2),Q("div",{class:z(A(i).right)},[de(o.$slots,"right")],2)])],2)],16))}}),Oe=Object.create(null);Oe.open="0";Oe.close="1";Oe.ping="2";Oe.pong="3";Oe.message="4";Oe.upgrade="5";Oe.noop="6";const bt=Object.create(null);Object.keys(Oe).forEach(e=>{bt[Oe[e]]=e});const $t={type:"error",data:"parser error"},Oi=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Si=typeof ArrayBuffer=="function",Ei=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,nn=({type:e,data:t},n,i)=>Oi&&t instanceof Blob?n?i(t):Ln(t,i):Si&&(t instanceof ArrayBuffer||Ei(t))?n?i(t):Ln(new Blob([t]),i):i(Oe[e]+(t||"")),Ln=(e,t)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];t("b"+(i||""))},n.readAsDataURL(e)};function _n(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Bt;function vs(e,t){if(Oi&&e.data instanceof Blob)return e.data.arrayBuffer().then(_n).then(t);if(Si&&(e.data instanceof ArrayBuffer||Ei(e.data)))return t(_n(e.data));nn(e,!1,n=>{Bt||(Bt=new TextEncoder),t(Bt.encode(n))})}const Mn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",et=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Mn.length;e++)et[Mn.charCodeAt(e)]=e;const ms=e=>{let t=e.length*.75,n=e.length,i,r=0,o,s,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(i=0;i<n;i+=4)o=et[e.charCodeAt(i)],s=et[e.charCodeAt(i+1)],a=et[e.charCodeAt(i+2)],l=et[e.charCodeAt(i+3)],u[r++]=o<<2|s>>4,u[r++]=(s&15)<<4|a>>2,u[r++]=(a&3)<<6|l&63;return d},gs=typeof ArrayBuffer=="function",rn=(e,t)=>{if(typeof e!="string")return{type:"message",data:ki(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:bs(e.substring(1),t)}:bt[n]?e.length>1?{type:bt[n],data:e.substring(1)}:{type:bt[n]}:$t},bs=(e,t)=>{if(gs){const n=ms(e);return ki(n,t)}else return{base64:!0,data:e}},ki=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Ci="",ys=(e,t)=>{const n=e.length,i=new Array(n);let r=0;e.forEach((o,s)=>{nn(o,!1,a=>{i[s]=a,++r===n&&t(i.join(Ci))})})},ws=(e,t)=>{const n=e.split(Ci),i=[];for(let r=0;r<n.length;r++){const o=rn(n[r],t);if(i.push(o),o.type==="error")break}return i};function xs(){return new TransformStream({transform(e,t){vs(e,n=>{const i=n.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const o=new DataView(r.buffer);o.setUint8(0,126),o.setUint16(1,i)}else{r=new Uint8Array(9);const o=new DataView(r.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(i))}e.data&&typeof e.data!="string"&&(r[0]|=128),t.enqueue(r),t.enqueue(n)})}})}let Lt;function ft(e){return e.reduce((t,n)=>t+n.length,0)}function pt(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let i=0;for(let r=0;r<t;r++)n[r]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),n}function Os(e,t){Lt||(Lt=new TextDecoder);const n=[];let i=0,r=-1,o=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(i===0){if(ft(n)<1)break;const l=pt(n,1);o=(l[0]&128)===128,r=l[0]&127,r<126?i=3:r===126?i=1:i=2}else if(i===1){if(ft(n)<2)break;const l=pt(n,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(i===2){if(ft(n)<8)break;const l=pt(n,8),d=new DataView(l.buffer,l.byteOffset,l.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue($t);break}r=u*Math.pow(2,32)+d.getUint32(4),i=3}else{if(ft(n)<r)break;const l=pt(n,r);a.enqueue(rn(o?l:Lt.decode(l),t)),i=0}if(r===0||r>e){a.enqueue($t);break}}}})}const Ri=4;function W(e){if(e)return Ss(e)}function Ss(e){for(var t in W.prototype)e[t]=W.prototype[t];return e}W.prototype.on=W.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};W.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};W.prototype.off=W.prototype.removeListener=W.prototype.removeAllListeners=W.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,r=0;r<n.length;r++)if(i=n[r],i===t||i.fn===t){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+e],this};W.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,t)}return this};W.prototype.emitReserved=W.prototype.emit;W.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};W.prototype.hasListeners=function(e){return!!this.listeners(e).length};const se=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Ai(e,...t){return t.reduce((n,i)=>(e.hasOwnProperty(i)&&(n[i]=e[i]),n),{})}const Es=se.setTimeout,ks=se.clearTimeout;function kt(e,t){t.useNativeTimers?(e.setTimeoutFn=Es.bind(se),e.clearTimeoutFn=ks.bind(se)):(e.setTimeoutFn=se.setTimeout.bind(se),e.clearTimeoutFn=se.clearTimeout.bind(se))}const Cs=1.33;function Rs(e){return typeof e=="string"?As(e):Math.ceil((e.byteLength||e.size)*Cs)}function As(e){let t=0,n=0;for(let i=0,r=e.length;i<r;i++)t=e.charCodeAt(i),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}function Ts(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Is(e){let t={},n=e.split("&");for(let i=0,r=n.length;i<r;i++){let o=n[i].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class Bs extends Error{constructor(t,n,i){super(t),this.description=n,this.context=i,this.type="TransportError"}}class on extends W{constructor(t){super(),this.writable=!1,kt(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,i){return super.emitReserved("error",new Bs(t,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=rn(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Ts(t);return n.length?"?"+n:""}}const Ti="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Vt=64,Ls={};let Dn=0,ht=0,Pn;function Nn(e){let t="";do t=Ti[e%Vt]+t,e=Math.floor(e/Vt);while(e>0);return t}function Ii(){const e=Nn(+new Date);return e!==Pn?(Dn=0,Pn=e):e+"."+Nn(Dn++)}for(;ht<Vt;ht++)Ls[Ti[ht]]=ht;let Bi=!1;try{Bi=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const _s=Bi;function Li(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||_s))return new XMLHttpRequest}catch{}if(!t)try{return new se[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Ms(){}const Ds=function(){return new Li({xdomain:!1}).responseType!=null}();class Ps extends on{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let r=location.port;r||(r=i?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}const n=t&&t.forceBase64;this.supportsBinary=Ds&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};ws(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,ys(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Ii()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new ye(this.uri(),t)}doWrite(t,n){const i=this.request({method:"POST",data:t});i.on("success",n),i.on("error",(r,o)=>{this.onError("xhr post error",r,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=t}}class ye extends W{constructor(t,n){super(),kt(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=Ai(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const i=this.xhr=new Li(n);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var r;i.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=ye.requestsCount++,ye.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Ms,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete ye.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}ye.requestsCount=0;ye.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",$n);else if(typeof addEventListener=="function"){const e="onpagehide"in se?"pagehide":"unload";addEventListener(e,$n,!1)}}function $n(){for(let e in ye.requests)ye.requests.hasOwnProperty(e)&&ye.requests[e].abort()}const sn=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),vt=se.WebSocket||se.MozWebSocket,Vn=!0,Ns="arraybuffer",zn=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class $s extends on{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,i=zn?{}:Ai(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=Vn&&!zn?n?new vt(t,n):new vt(t):new vt(t,n,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const i=t[n],r=n===t.length-1;nn(i,this.supportsBinary,o=>{const s={};try{Vn&&this.ws.send(o)}catch{}r&&sn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Ii()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!vt}}class Vs extends on{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=Os(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(n).getReader(),r=xs();r.readable.pipeTo(t.writable),this.writer=r.writable.getWriter();const o=()=>{i.read().then(({done:a,value:l})=>{a||(this.onPacket(l),o())}).catch(a=>{})};o();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const i=t[n],r=n===t.length-1;this.writer.write(i).then(()=>{r&&sn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const zs={websocket:$s,webtransport:Vs,polling:Ps},Fs=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,qs=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function zt(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));let r=Fs.exec(e||""),o={},s=14;for(;s--;)o[qs[s]]=r[s]||"";return n!=-1&&i!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=js(o,o.path),o.queryKey=Us(o,o.query),o}function js(e,t){const n=/\/{2,9}/g,i=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function Us(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,o){r&&(n[r]=o)}),n}let _i=class Ne extends W{constructor(t,n={}){super(),this.binaryType=Ns,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=zt(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=zt(n.host).host),kt(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Is(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Ri,n.transport=t,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new zs[t](i)}open(){let t;if(this.opts.rememberUpgrade&&Ne.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),i=!1;Ne.priorWebsocketSuccess=!1;const r=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",c=>{if(!i)if(c.type==="pong"&&c.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ne.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function o(){i||(i=!0,u(),n.close(),n=null)}const s=c=>{const f=new Error("probe error: "+c);f.transport=n.name,o(),this.emitReserved("upgradeError",f)};function a(){s("transport closed")}function l(){s("socket closed")}function d(c){n&&c.name!==n.name&&o()}const u=()=>{n.removeListener("open",r),n.removeListener("error",s),n.removeListener("close",a),this.off("close",l),this.off("upgrading",d)};n.once("open",r),n.once("error",s),n.once("close",a),this.once("close",l),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Ne.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const r=this.writeBuffer[i].data;if(r&&(n+=Rs(r)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(t,n,i){return this.sendPacket("message",t,n,i),this}send(t,n,i){return this.sendPacket("message",t,n,i),this}sendPacket(t,n,i,r){if(typeof n=="function"&&(r=n,n=void 0),typeof i=="function"&&(r=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const o={type:t,data:n,options:i};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){Ne.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let i=0;const r=t.length;for(;i<r;i++)~this.transports.indexOf(t[i])&&n.push(t[i]);return n}};_i.protocol=Ri;function Hs(e,t="",n){let i=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),i=zt(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const o=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port+t,i.href=i.protocol+"://"+o+(n&&n.port===i.port?"":":"+i.port),i}const Ws=typeof ArrayBuffer=="function",Ks=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Mi=Object.prototype.toString,Ys=typeof Blob=="function"||typeof Blob<"u"&&Mi.call(Blob)==="[object BlobConstructor]",Xs=typeof File=="function"||typeof File<"u"&&Mi.call(File)==="[object FileConstructor]";function an(e){return Ws&&(e instanceof ArrayBuffer||Ks(e))||Ys&&e instanceof Blob||Xs&&e instanceof File}function yt(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,i=e.length;n<i;n++)if(yt(e[n]))return!0;return!1}if(an(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return yt(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&yt(e[n]))return!0;return!1}function Js(e){const t=[],n=e.data,i=e;return i.data=Ft(n,t),i.attachments=t.length,{packet:i,buffers:t}}function Ft(e,t){if(!e)return e;if(an(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=Ft(e[i],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=Ft(e[i],t));return n}return e}function Qs(e,t){return e.data=qt(e.data,t),delete e.attachments,e}function qt(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=qt(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=qt(e[n],t));return e}const Zs=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Gs=5;var D;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(D||(D={}));class ea{constructor(t){this.replacer=t}encode(t){return(t.type===D.EVENT||t.type===D.ACK)&&yt(t)?this.encodeAsBinary({type:t.type===D.EVENT?D.BINARY_EVENT:D.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===D.BINARY_EVENT||t.type===D.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Js(t),i=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(i),r}}function Fn(e){return Object.prototype.toString.call(e)==="[object Object]"}class ln extends W{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const i=n.type===D.BINARY_EVENT;i||n.type===D.BINARY_ACK?(n.type=i?D.EVENT:D.ACK,this.reconstructor=new ta(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(an(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const i={type:Number(t.charAt(0))};if(D[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===D.BINARY_EVENT||i.type===D.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const s=t.substring(o,n);if(s!=Number(s)||t.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(s)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););i.nsp=t.substring(o,n)}else i.nsp="/";const r=t.charAt(n+1);if(r!==""&&Number(r)==r){const o=n+1;for(;++n;){const s=t.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===t.length)break}i.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(ln.isPayloadValid(i.type,o))i.data=o;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case D.CONNECT:return Fn(n);case D.DISCONNECT:return n===void 0;case D.CONNECT_ERROR:return typeof n=="string"||Fn(n);case D.EVENT:case D.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Zs.indexOf(n[0])===-1);case D.ACK:case D.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ta{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Qs(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const na=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ln,Encoder:ea,get PacketType(){return D},protocol:Gs},Symbol.toStringTag,{value:"Module"}));function fe(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const ia=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Di extends W{constructor(t,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[fe(t,"open",this.onopen.bind(this)),fe(t,"packet",this.onpacket.bind(this)),fe(t,"error",this.onerror.bind(this)),fe(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(ia.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:D.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const s=this.ids++,a=n.pop();this._registerAckCallback(s,a),i.id=s}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,n){var i;const r=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(r===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},r),s=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,a)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...n){return new Promise((i,r)=>{const o=(s,a)=>s?r(s):i(a);o.withError=!0,n.push(o),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...o)=>i!==this._queue[0]?void 0:(r!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...o)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:D.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(i=>String(i.id)===t)){const i=this.acks[t];delete this.acks[t],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case D.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case D.EVENT:case D.BINARY_EVENT:this.onevent(t);break;case D.ACK:case D.BINARY_ACK:this.onack(t);break;case D.DISCONNECT:this.ondisconnect();break;case D.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let i=!1;return function(...r){i||(i=!0,n.packet({type:D.ACK,id:t,data:r}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:D.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,t.data)}}}function Ke(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ke.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Ke.prototype.reset=function(){this.attempts=0};Ke.prototype.setMin=function(e){this.ms=e};Ke.prototype.setMax=function(e){this.max=e};Ke.prototype.setJitter=function(e){this.jitter=e};class jt extends W{constructor(t,n){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,kt(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Ke({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const r=n.parser||na;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new _i(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=fe(n,"open",function(){i.onopen(),t&&t()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},s=fe(n,"error",o);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{r(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(fe(t,"ping",this.onping.bind(this)),fe(t,"data",this.ondata.bind(this)),fe(t,"error",this.onerror.bind(this)),fe(t,"close",this.onclose.bind(this)),fe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){sn(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new Di(this,t,n),this.nsps[t]=i),i}_destroy(t){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let i=0;i<n.length;i++)this.engine.write(n[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ge={};function wt(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Hs(e,t.path||"/socket.io"),i=n.source,r=n.id,o=n.path,s=Ge[r]&&o in Ge[r].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||s;let l;return a?l=new jt(i,t):(Ge[r]||(Ge[r]=new jt(i,t)),l=Ge[r]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(wt,{Manager:jt,Socket:Di,io:wt,connect:wt});const X=wt("https://localhost"),ra={__name:"LogViewer",props:{containerId:{type:String,required:!0}},setup(e){const t=e,n=M([]),i=M(null),r=()=>{X.emit("getLogs",t.containerId)},o=d=>{n.value.push(d)},s=d=>{console.error("Socket error:",d)},a=()=>{console.log("Reconnected to ~/server"),n.value=[],r()},l=()=>{i.value&&(i.value.scrollTop=i.value.scrollHeight)};return we(()=>{r(),X.on("log",o),X.on("error",s),X.on("connect",a),X.on("disconnect",()=>{console.log("Disconnected from ~/server")}),l()}),Wn(()=>{X.off("log",o),X.off("error",s),X.off("connect",a)}),le(n,()=>{l()}),le(()=>t.containerId,()=>{n.value=[],r()}),(d,u)=>(L(),F("div",{ref_key:"logContainer",ref:i,class:"h-[75vh] overflow-y-auto mt-4 p-4 rounded-lg bg-gray-100 dark:bg-gray-800"},[(L(!0),F(ze,null,Wt(A(n),c=>(L(),F("div",{key:c,class:"log-entry"},pe(c),1))),128))],512))}},oa={__name:"LogTerminal",props:{containerId:{type:String,required:!0}},setup(e){const t=e,n=M(null);let i,r;const o=()=>{X.emit("startShell",t.containerId)},s=()=>{X.emit("stopShell",t.containerId),X.off("shellOutput",a)},a=d=>{i&&i.write(d.toString("utf8"))},l=d=>{X.emit("shellInput",d.toString("utf8"))};return we(async()=>{if(ir){const{Terminal:d}=await Tt(async()=>{const{Terminal:c}=await import("./ByJhTvlH.js").then(f=>f.x);return{Terminal:c}},[],import.meta.url),{FitAddon:u}=await Tt(async()=>{const{FitAddon:c}=await import("./D-0KS9LU.js").then(f=>f.x);return{FitAddon:c}},[],import.meta.url);await Tt(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url),i=new d({cursorBlink:!0,fontSize:16}),r=new u,i.loadAddon(r),i.open(n.value),r.fit(),i.onData(l),o(),X.on("shellOutput",a),X.on("error",c=>{i.write(`\r
Error: ${c}\r
`)}),X.on("connect",()=>{i.write(`\r
Connected to ~/server\r
`),o()}),X.on("disconnect",()=>{i.write(`\r
Disconnected from ~/server\r
`)}),window.addEventListener("resize",r.fit)}}),Wn(()=>{i&&(s(),window.removeEventListener("resize",r.fit))}),(d,u)=>(L(),F("div",{ref_key:"terminal",ref:n,class:"terminal-container"},null,512))}},sa={key:0,class:"flex"},aa={key:0,class:"flex flex-wrap gap-2"},la={key:0},ua={key:0,class:"mt-4"},ca={class:"truncate"},da={key:1,class:"mt-4"},fa={key:2,class:"mt-4"},pa={key:1},Oa={__name:"Single",setup(e){const t=rr(),n=vr(),i=["General","Logs"],r=M(i[0]);we(()=>{n.fetchContainer(t.params.id)});const o=k(()=>n.container);k(()=>n.loading);const s=async(d,u)=>{await n.performContainerAction(d,u)},a=()=>{r.value="Shell"},l=()=>{r.value="General"};return(d,u)=>{const c=qi,f=sr,y=ar,w=ps,S=hs,R=pr,E=hr,x=ra,h=oa;return L(),F(ze,null,[Z(y,{headline:A(o)?"":"Loading...",class:"sticky top-0 bg-white z-10 dark:bg-gray-800 pb-4"},{title:te(()=>[A(o)?(L(),F("h1",sa,[nt(pe(A(o).getName())+" ",1),Z(c,{label:A(o).getStatus(),color:A(o).isRunning()?"green":"red",class:"ml-2 h-6",variant:"soft"},null,8,["label","color"])])):U("",!0)]),description:te(()=>[A(o)?(L(),F("div",aa,[A(o).isRunning()?U("",!0):(L(),Y(f,{key:0,onClick:u[0]||(u[0]=()=>s(A(o),"start")),icon:A(o).isLoading("start")?"i-heroicons-spinner":"i-heroicons-play",size:"sm",color:"white",square:"",variant:"solid",loading:A(o).isLoading("start"),label:"Start"},null,8,["icon","loading"])),A(o).isRunning()?(L(),Y(f,{key:1,onClick:u[1]||(u[1]=()=>s(A(o),"restart")),icon:A(o).isLoading("restart")?"i-heroicons-spinner":"i-heroicons-arrow-path",size:"sm",color:"white",square:"",variant:"solid",loading:A(o).isLoading("restart"),label:"Restart"},null,8,["icon","loading"])):U("",!0),A(o).isRunning()?(L(),Y(f,{key:2,onClick:u[2]||(u[2]=()=>s(A(o),"stop")),icon:A(o).isLoading("stop")?"i-heroicons-spinner":"i-heroicons-stop",size:"sm",color:"white",square:"",variant:"solid",loading:A(o).isLoading("stop"),label:"Stop"},null,8,["icon","loading"])):U("",!0),Z(f,{onClick:u[3]||(u[3]=()=>s(A(o),"remove")),icon:A(o).isLoading("remove")?"i-heroicons-spinner":"i-heroicons-trash",size:"sm",color:"white",square:"",variant:"solid",loading:A(o).isLoading("remove"),label:"Remove"},null,8,["icon","loading"]),Z(f,{onClick:u[4]||(u[4]=()=>s(A(o),"rebuild")),icon:A(o).isLoading("rebuild")?"i-heroicons-spinner":"i-heroicons-arrow-path-rounded-square",size:"sm",color:"white",square:"",variant:"solid",loading:A(o).isLoading("rebuild"),label:"Rebuild"},null,8,["icon","loading"])])):U("",!0)]),_:1},8,["headline"]),A(o)?(L(),F("div",la,[Z(S,{class:"pl-0 py-4"},{left:te(()=>[A(r)!=="Shell"?(L(),Y(w,{key:0,icon:A(r)==="General"?"i-heroicons-information-circle":"i-heroicons-clipboard-document-list",modelValue:A(r),"onUpdate:modelValue":u[5]||(u[5]=v=>or(r)?r.value=v:null),options:i,color:"white"},null,8,["icon","modelValue"])):U("",!0),A(r)!=="Shell"?(L(),Y(f,{key:1,icon:"i-heroicons-command-line",size:"sm",color:"white",square:"",variant:"solid",label:"Terminal",onClick:u[6]||(u[6]=v=>a())})):U("",!0),A(r)==="Shell"?(L(),Y(f,{key:2,icon:"i-heroicons-arrow-right-on-rectangle",size:"sm",color:"white",square:"",variant:"solid",label:"Quit",onClick:u[7]||(u[7]=v=>l())})):U("",!0),A(o).getName().toLowerCase()==="mailpit"?(L(),Y(f,{key:3,icon:"i-heroicons-envelope",size:"sm",color:"white",square:"",variant:"solid",label:"Go to Mailpit",to:"https://mailpit.localhost"})):U("",!0),A(o).getName().toLowerCase()==="adminer"?(L(),Y(f,{key:4,icon:"i-heroicons-circle-stack",size:"sm",color:"white",square:"",variant:"solid",label:"Go to Adminer",to:"https://adminer.localhost"})):U("",!0)]),_:1}),A(r)==="General"?(L(),F("div",ua,[Z(E,{ui:{wrapper:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-2 gap-8"}},{default:te(()=>[Z(R,{title:"General"},{default:te(()=>[Q("p",null,"Name: "+pe(A(o).getName()),1),Q("p",ca,"Image: "+pe(A(o).getImage()),1),Q("p",null,"Created: "+pe(A(o).getCreated()),1)]),_:1}),Z(R,{title:"Network"},{default:te(()=>[nt(" Ports: "),Q("ul",null,[(L(!0),F(ze,null,Wt(A(o).getPorts(),v=>(L(),F("li",{key:v},pe(v),1))),128))])]),_:1})]),_:1})])):U("",!0),A(r)==="Logs"?(L(),F("div",da,[Z(x,{containerId:A(o).getId()},null,8,["containerId"])])):U("",!0),A(r)==="Shell"?(L(),F("div",fa,[A(r)==="Shell"?(L(),Y(h,{key:0,containerId:A(o).getId()},null,8,["containerId"])):U("",!0)])):U("",!0)])):(L(),F("div",pa,[Z(f,{size:"xl",color:"white",square:"",block:"",variant:"ghost",loading:""},{default:te(()=>[nt(" Loading container... ")]),_:1})]))],64)}}};export{Oa as _};
