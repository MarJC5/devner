const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./xterm.BdtCR0Hx.css"])))=>i.map(i=>d[i]);
import{C as qi,_ as ji}from"./4u0pgEpR.js";import{s as Ui,a as qn,u as Lt,b as Hi,g as Wi,_ as Ki}from"./DTL95yix.js";import{_ as Yi}from"./Czb7TOuw.js";import{o as Mt,i as jn,w as Un,f as Hn,u as Wn,O as Kn,t as bn,n as Xi,a as Ji,h as Qi,b as yn,c as Yn,_ as Xn,d as Zi,e as Gi}from"./CP-BOYe9.js";import{u as ee,o as L,t as Jn,i as Re,E as Qn,A as Ee,T as Ot,I as De,s as Zn,N as Ve,l as Gn,a as V,b as er,c as tr}from"./BVLD-xRq.js";import{m as k,l as I,s as nr,h as re,n as wn,q as ir,r as M,v as Ut,x as Le,y as ue,z as rr,A as K,B as Ht,g as we,C as ze,F as Fe,D as $e,E as G,G as or,H as ei,I as Be,J as tt,K as sr,L as ar,M as Xe,N as lr,o as _,f as J,w as te,c as F,O as z,j as U,P as Je,Q as de,a as Q,R as mt,b as Z,t as pe,T as ur,i as Wt,S as cr,d as nt,U as ti,_ as Tt,k as dr,V as fr}from"./D9CLLpjw.js";import{_ as pr}from"./DlAUqK2U.js";import{_ as hr}from"./jAJ9FMD3.js";import{_ as vr}from"./DvdKWs5p.js";const mr={wrapper:"relative",base:"relative block w-full disabled:cursor-not-allowed disabled:opacity-75 focus:outline-none border-0",form:"form-input",rounded:"rounded-md",placeholder:"placeholder-gray-400 dark:placeholder-gray-500",file:{base:"file:mr-1.5 file:font-medium file:text-gray-500 dark:file:text-gray-400 file:bg-transparent file:border-0 file:p-0 file:outline-none"},size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},gap:{"2xs":"gap-x-1",xs:"gap-x-1.5",sm:"gap-x-1.5",md:"gap-x-2",lg:"gap-x-2.5",xl:"gap-x-2.5"},padding:{"2xs":"px-2 py-1",xs:"px-2.5 py-1.5",sm:"px-2.5 py-1.5",md:"px-3 py-2",lg:"px-3.5 py-2.5",xl:"px-3.5 py-2.5"},leading:{padding:{"2xs":"ps-7",xs:"ps-8",sm:"ps-9",md:"ps-10",lg:"ps-11",xl:"ps-12"}},trailing:{padding:{"2xs":"pe-7",xs:"pe-8",sm:"pe-9",md:"pe-10",lg:"pe-11",xl:"pe-12"}},color:{white:{outline:"shadow-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"},gray:{outline:"shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400"}},variant:{outline:"shadow-sm bg-transparent text-gray-900 dark:text-white ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 focus:ring-2 focus:ring-{color}-500 dark:focus:ring-{color}-400",none:"bg-transparent focus:ring-0 focus:shadow-none"},icon:{base:"flex-shrink-0 text-gray-400 dark:text-gray-500",color:"text-{color}-500 dark:text-{color}-400",loading:"animate-spin",size:{"2xs":"h-4 w-4",xs:"h-4 w-4",sm:"h-5 w-5",md:"h-5 w-5",lg:"h-5 w-5",xl:"h-6 w-6"},leading:{wrapper:"absolute inset-y-0 start-0 flex items-center",pointer:"pointer-events-none",padding:{"2xs":"px-2",xs:"px-2.5",sm:"px-2.5",md:"px-3",lg:"px-3.5",xl:"px-3.5"}},trailing:{wrapper:"absolute inset-y-0 end-0 flex items-center",pointer:"pointer-events-none",padding:{"2xs":"px-2",xs:"px-2.5",sm:"px-2.5",md:"px-3",lg:"px-3.5",xl:"px-3.5"}}},default:{size:"sm",color:"white",variant:"outline",loadingIcon:"i-heroicons-arrow-path-20-solid"}},gr={...mr,form:"form-select",placeholder:"text-gray-400 dark:text-gray-500",default:{size:"sm",color:"white",variant:"outline",loadingIcon:"i-heroicons-arrow-path-20-solid",trailingIcon:"i-heroicons-chevron-down-20-solid"}};function Qe(e,n,t){let i=t.initialDeps??[],r;return()=>{var s,o,a,l;let d;t.key&&((s=t.debug)!=null&&s.call(t))&&(d=Date.now());const u=e();if(!(u.length!==i.length||u.some((y,x)=>i[x]!==y)))return r;i=u;let f;if(t.key&&((o=t.debug)!=null&&o.call(t))&&(f=Date.now()),r=n(...u),t.key&&((a=t.debug)!=null&&a.call(t))){const y=Math.round((Date.now()-d)*100)/100,x=Math.round((Date.now()-f)*100)/100,S=x/16,R=(E,w)=>{for(E=String(E);E.length<w;)E=" "+E;return E};console.info(`%c⏱ ${R(x,5)} /${R(y,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(l=t==null?void 0:t.onChange)==null||l.call(t,r),r}}function It(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const br=(e,n)=>Math.abs(e-n)<1,yr=(e,n,t)=>{let i;return function(...r){e.clearTimeout(i),i=e.setTimeout(()=>n.apply(this,r),t)}},wr=e=>e,xr=e=>{const n=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let r=n;r<=t;r++)i.push(r);return i},Or=(e,n)=>{const t=e.scrollElement;if(!t)return;const i=e.targetWindow;if(!i)return;const r=o=>{const{width:a,height:l}=o;n({width:Math.round(a),height:Math.round(l)})};if(r(t.getBoundingClientRect()),!i.ResizeObserver)return()=>{};const s=new i.ResizeObserver(o=>{const a=o[0];if(a!=null&&a.borderBoxSize){const l=a.borderBoxSize[0];if(l){r({width:l.inlineSize,height:l.blockSize});return}}r(t.getBoundingClientRect())});return s.observe(t,{box:"border-box"}),()=>{s.unobserve(t)}},xn={passive:!0},Sr=typeof window>"u"?!0:"onscrollend"in window,Er=(e,n)=>{const t=e.scrollElement;if(!t)return;const i=e.targetWindow;if(!i)return;let r=0;const s=Sr?()=>{}:yr(i,()=>{n(r,!1)},e.options.isScrollingResetDelay),o=d=>()=>{r=t[e.options.horizontal?"scrollLeft":"scrollTop"],s(),n(r,d)},a=o(!0),l=o(!1);return l(),t.addEventListener("scroll",a,xn),t.addEventListener("scrollend",l,xn),()=>{t.removeEventListener("scroll",a),t.removeEventListener("scrollend",l)}},kr=(e,n,t)=>{if(n!=null&&n.borderBoxSize){const i=n.borderBoxSize[0];if(i)return Math.round(i[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},Cr=(e,{adjustments:n=0,behavior:t},i)=>{var r,s;const o=e+n;(s=(r=i.scrollElement)==null?void 0:r.scrollTo)==null||s.call(r,{[i.options.horizontal?"left":"top"]:o,behavior:t})};class Rr{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const i=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(r=>{r.forEach(s=>{this._measureElement(s.target,s)})}));return{disconnect:()=>{var r;return(r=i())==null?void 0:r.disconnect()},observe:r=>{var s;return(s=i())==null?void 0:s.observe(r,{box:"border-box"})},unobserve:r=>{var s;return(s=i())==null?void 0:s.unobserve(r)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([i,r])=>{typeof r>"u"&&delete t[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:wr,rangeExtractor:xr,onChange:()=>{},measureElement:kr,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,...t}},this.notify=(t,i)=>{var r,s;const{startIndex:o,endIndex:a}=this.range??{startIndex:void 0,endIndex:void 0},l=this.calculateRange();(t||o!==(l==null?void 0:l.startIndex)||a!==(l==null?void 0:l.endIndex))&&((s=(r=this.options).onChange)==null||s.call(r,this,i))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.observer.disconnect(),this.elementsCache.clear()},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.notify(!1,!1);return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(r,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<r?"forward":"backward":null,this.scrollOffset=r;const o=this.isScrolling;this.isScrolling=s,this.notify(o!==s,s)}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,i)=>{const r=new Map,s=new Map;for(let o=i-1;o>=0;o--){const a=t[o];if(r.has(a.lane))continue;const l=s.get(a.lane);if(l==null||a.end>l.end?s.set(a.lane,a):a.end<l.end&&r.set(a.lane,!0),r.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=Qe(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,i,r,s,o)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:i,scrollMargin:r,getItemKey:s,enabled:o}),{key:!1}),this.getMeasurements=Qe(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:i,scrollMargin:r,getItemKey:s,enabled:o},a)=>{var l;if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const d=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,d);for(let c=d;c<t;c++){let f=(l=this.measurementsCache[c])==null?void 0:l.measureElement;f||(f=v=>{const p=s(c),b=this.elementsCache.get(p);if(!v){b&&(this.observer.unobserve(b),this.elementsCache.delete(p));return}b!==v&&(b&&this.observer.unobserve(b),this.observer.observe(v),this.elementsCache.set(p,v)),v.isConnected&&this.resizeItem(c,this.options.measureElement(v,void 0,this))});const y=s(c),x=this.options.lanes===1?u[c-1]:this.getFurthestMeasurement(u,c),S=x?x.end+this.options.gap:i+r,R=a.get(y),E=typeof R=="number"?R:this.options.estimateSize(c),w=S+E,h=x?x.lane:c%this.options.lanes;u[c]={index:c,start:S,size:E,end:w,key:y,lane:h,measureElement:f}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Qe(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(t,i,r)=>this.range=t.length>0&&i>0?Ar({measurements:t,outerSize:i,scrollOffset:r}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=Qe(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,i,r,s)=>i===null?[]:t({startIndex:i.startIndex,endIndex:i.endIndex,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const i=this.options.indexAttribute,r=t.getAttribute(i);return r?parseInt(r,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(t,i)=>{const r=this.indexFromElement(t),s=this.getMeasurements()[r];if(!s||!t.isConnected){this.elementsCache.forEach((a,l)=>{a===t&&(this.observer.unobserve(t),this.elementsCache.delete(l))});return}const o=this.elementsCache.get(s.key);o!==t&&(o&&this.observer.unobserve(o),this.observer.observe(t),this.elementsCache.set(s.key,t)),this.resizeItem(r,this.options.measureElement(t,i,this))},this.resizeItem=(t,i)=>{const r=this.getMeasurements()[t];if(!r)return;const s=this.itemSizeCache.get(r.key)??r.size,o=i-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(r,o,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,i)),this.notify(!0,!1))},this.measureElement=t=>{t&&this._measureElement(t,void 0)},this.getVirtualItems=Qe(()=>[this.getIndexes(),this.getMeasurements()],(t,i)=>{const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=i[a];r.push(l)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const i=this.getMeasurements();if(i.length!==0)return It(i[ni(0,i.length-1,r=>It(i[r]).start,t)])},this.getOffsetForAlignment=(t,i)=>{const r=this.getSize(),s=this.getScrollOffset();i==="auto"&&(t<=s?i="start":t>=s+r?i="end":i="start"),i==="start"?t=t:i==="end"?t=t-r:i==="center"&&(t=t-r/2);const o=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-r;return Math.max(Math.min(l,t),0)},this.getOffsetForIndex=(t,i="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const r=this.getMeasurements()[t];if(!r)return;const s=this.getSize(),o=this.getScrollOffset();if(i==="auto")if(r.end>=o+s-this.options.scrollPaddingEnd)i="end";else if(r.start<=o+this.options.scrollPaddingStart)i="start";else return[o,i];const a=i==="end"?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,i),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:i="start",behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,i),{adjustments:void 0,behavior:r})},this.scrollToIndex=(t,{align:i="auto",behavior:r}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(t,i);if(!s)return;const[o,a]=s;this._scrollToOffset(o,{adjustments:void 0,behavior:r}),r!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[d]=It(this.getOffsetForIndex(t,a));br(d,this.getScrollOffset())||this.scrollToIndex(t,{align:a,behavior:r})}else this.scrollToIndex(t,{align:a,behavior:r})}))},this.scrollBy=(t,{behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var t;const i=this.getMeasurements();let r;return i.length===0?r=this.options.paddingStart:r=this.options.lanes===1?((t=i[i.length-1])==null?void 0:t.end)??0:Math.max(...i.slice(-this.options.lanes).map(s=>s.end)),r-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:i,behavior:r})=>{this.options.scrollToFn(t,{behavior:r,adjustments:i},this)},this.measure=()=>{var t,i;this.itemSizeCache=new Map,(i=(t=this.options).onChange)==null||i.call(t,this,!1)},this.setOptions(n)}}const ni=(e,n,t,i)=>{for(;e<=n;){const r=(e+n)/2|0,s=t(r);if(s<i)e=r+1;else if(s>i)n=r-1;else return r}return e>0?e-1:0};function Ar({measurements:e,outerSize:n,scrollOffset:t}){const i=e.length-1,s=ni(0,i,a=>e[a].start,t);let o=s;for(;o<i&&e[o].end<t+n;)o++;return{startIndex:s,endIndex:o}}function Tr(e){const n=new Rr(I(e)),t=nr(n),i=n._didMount();return re(()=>I(e).getScrollElement(),r=>{r&&n._willUpdate()},{immediate:!0}),re(()=>I(e),r=>{n.setOptions({...r,onChange:(s,o)=>{var a;wn(t),(a=r.onChange)==null||a.call(r,s,o)}}),n._willUpdate(),wn(t)},{immediate:!0}),ir(i),t}function Ir(e){return Tr(k(()=>({observeElementRect:Or,observeElementOffset:Er,scrollToFn:Cr,...I(e)})))}function ii(e,n,t){let i=M(t==null?void 0:t.value),r=k(()=>e.value!==void 0);return[k(()=>r.value?e.value:i.value),function(s){return r.value||(i.value=s),n==null?void 0:n(s)}]}function Br(){let e=Mt();return Ut(()=>e.dispose()),e}function _r(){let e=Br();return n=>{e.dispose(),e.nextFrame(n)}}function On(e){return[e.screenX,e.screenY]}function ri(){let e=M([-1,-1]);return{wasMoved(n){let t=On(n);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(n){e.value=On(n)}}}function Lr({container:e,accept:n,walk:t,enabled:i}){Le(()=>{let r=e.value;if(!r||i!==void 0&&!i.value)return;let s=jn(e);if(!s)return;let o=Object.assign(l=>n(l),{acceptNode:n}),a=s.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,o,!1);for(;a.nextNode();)t(a.currentNode)})}var oi=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(oi||{});function Mr(e){throw new Error("Unexpected object: "+e)}var $=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))($||{});function Dt(e,n){let t=n.resolveItems();if(t.length<=0)return null;let i=n.resolveActiveIndex(),r=i??-1;switch(e.focus){case 0:{for(let s=0;s<t.length;++s)if(!n.resolveDisabled(t[s],s,t))return s;return i}case 1:{r===-1&&(r=t.length);for(let s=r-1;s>=0;--s)if(!n.resolveDisabled(t[s],s,t))return s;return i}case 2:{for(let s=r+1;s<t.length;++s)if(!n.resolveDisabled(t[s],s,t))return s;return i}case 3:{for(let s=t.length-1;s>=0;--s)if(!n.resolveDisabled(t[s],s,t))return s;return i}case 4:{for(let s=0;s<t.length;++s)if(n.resolveId(t[s],s,t)===e.id)return s;return i}case 5:return null;default:Mr(e)}}function Kt(e={},n=null,t=[]){for(let[i,r]of Object.entries(e))ai(t,si(n,i),r);return t}function si(e,n){return e?e+"["+n+"]":n}function ai(e,n,t){if(Array.isArray(t))for(let[i,r]of t.entries())ai(e,si(n,i.toString()),r);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):Kt(t,n,e)}var Dr={};function Pr(e,n){return e===n}var Nr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Nr||{}),$r=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))($r||{}),Vr=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Vr||{});let li=Symbol("ComboboxContext");function We(e){let n=$e(li,null);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,We),t}return n}let ui=Symbol("VirtualContext"),zr=ue({name:"VirtualProvider",setup(e,{slots:n}){let t=We("VirtualProvider"),i=k(()=>{let a=L(t.optionsRef);if(!a)return{start:0,end:0};let l=window.getComputedStyle(a);return{start:parseFloat(l.paddingBlockStart||l.paddingTop),end:parseFloat(l.paddingBlockEnd||l.paddingBottom)}}),r=Ir(k(()=>({scrollPaddingStart:i.value.start,scrollPaddingEnd:i.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return L(t.optionsRef)},overscan:12}))),s=k(()=>{var a;return(a=t.virtual.value)==null?void 0:a.options}),o=M(0);return re([s],()=>{o.value+=1}),Ht(ui,t.virtual.value?r:null),()=>[ze("div",{style:{position:"relative",width:"100%",height:`${r.value.getTotalSize()}px`},ref:a=>{if(a){if(typeof process<"u"&&Dr.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&r.value.scrollToIndex(t.activeOptionIndex.value)}}},r.value.getVirtualItems().map(a=>or(n.default({option:t.virtual.value.options[a.index],open:t.comboboxState.value===0})[0],{key:`${o.value}-${a.index}`,"data-index":a.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":a.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${a.start}px)`,overflowAnchor:"none"}})))]}}),Fr=ue({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:n,attrs:t,emit:i}){let r=M(1),s=M(null),o=M(null),a=M(null),l=M(null),d=M({static:!1,hold:!1}),u=M([]),c=M(null),f=M(2),y=M(!1);function x(m=O=>O){let O=c.value!==null?u.value[c.value]:null,A=m(u.value.slice()),T=A.length>0&&A[0].dataRef.order.value!==null?A.sort((N,q)=>N.dataRef.order.value-q.dataRef.order.value):Kn(A,N=>L(N.dataRef.domRef)),P=O?T.indexOf(O):null;return P===-1&&(P=null),{options:T,activeOptionIndex:P}}let S=k(()=>e.multiple?1:0),R=k(()=>e.nullable),[E,w]=ii(k(()=>e.modelValue),m=>i("update:modelValue",m),k(()=>e.defaultValue)),h=k(()=>E.value===void 0?ee(S.value,{1:[],0:void 0}):E.value),v=null,p=null;function b(m){return ee(S.value,{0(){return w==null?void 0:w(m)},1:()=>{let O=K(g.value.value).slice(),A=K(m),T=O.findIndex(P=>g.compare(A,K(P)));return T===-1?O.push(A):O.splice(T,1),w==null?void 0:w(O)}})}let C=k(()=>{});re([C],([m],[O])=>{if(g.virtual.value&&m&&O&&c.value!==null){let A=m.indexOf(O[c.value]);A!==-1?c.value=A:c.value=null}});let g={comboboxState:r,value:h,mode:S,compare(m,O){if(typeof e.by=="string"){let A=e.by;return(m==null?void 0:m[A])===(O==null?void 0:O[A])}return e.by===null?Pr(m,O):e.by(m,O)},calculateIndex(m){return g.virtual.value?e.by===null?g.virtual.value.options.indexOf(m):g.virtual.value.options.findIndex(O=>g.compare(O,m)):u.value.findIndex(O=>g.compare(O.dataRef.value,m))},defaultValue:k(()=>e.defaultValue),nullable:R,immediate:k(()=>!1),virtual:k(()=>null),inputRef:o,labelRef:s,buttonRef:a,optionsRef:l,disabled:k(()=>e.disabled),options:u,change(m){w(m)},activeOptionIndex:k(()=>{if(y.value&&c.value===null&&(g.virtual.value?g.virtual.value.options.length>0:u.value.length>0)){if(g.virtual.value){let O=g.virtual.value.options.findIndex(A=>{var T;return!((T=g.virtual.value)!=null&&T.disabled(A))});if(O!==-1)return O}let m=u.value.findIndex(O=>!O.dataRef.disabled);if(m!==-1)return m}return c.value}),activationTrigger:f,optionsPropsRef:d,closeCombobox(){y.value=!1,!e.disabled&&r.value!==1&&(r.value=1,c.value=null)},openCombobox(){if(y.value=!0,!e.disabled&&r.value!==0){if(g.value.value){let m=g.calculateIndex(g.value.value);m!==-1&&(c.value=m)}r.value=0}},setActivationTrigger(m){f.value=m},goToOption(m,O,A){y.value=!1,v!==null&&cancelAnimationFrame(v),v=requestAnimationFrame(()=>{if(e.disabled||l.value&&!d.value.static&&r.value===1)return;if(g.virtual.value){c.value=m===$.Specific?O:Dt({focus:m},{resolveItems:()=>g.virtual.value.options,resolveActiveIndex:()=>{var N,q;return(q=(N=g.activeOptionIndex.value)!=null?N:g.virtual.value.options.findIndex(H=>{var se;return!((se=g.virtual.value)!=null&&se.disabled(H))}))!=null?q:null},resolveDisabled:N=>g.virtual.value.disabled(N),resolveId(){throw new Error("Function not implemented.")}}),f.value=A??2;return}let T=x();if(T.activeOptionIndex===null){let N=T.options.findIndex(q=>!q.dataRef.disabled);N!==-1&&(T.activeOptionIndex=N)}let P=m===$.Specific?O:Dt({focus:m},{resolveItems:()=>T.options,resolveActiveIndex:()=>T.activeOptionIndex,resolveId:N=>N.id,resolveDisabled:N=>N.dataRef.disabled});c.value=P,f.value=A??2,u.value=T.options})},selectOption(m){let O=u.value.find(T=>T.id===m);if(!O)return;let{dataRef:A}=O;b(A.value)},selectActiveOption(){if(g.activeOptionIndex.value!==null){if(g.virtual.value)b(g.virtual.value.options[g.activeOptionIndex.value]);else{let{dataRef:m}=u.value[g.activeOptionIndex.value];b(m.value)}g.goToOption($.Specific,g.activeOptionIndex.value)}},registerOption(m,O){let A=rr({id:m,dataRef:O});if(g.virtual.value){u.value.push(A);return}p&&cancelAnimationFrame(p);let T=x(P=>(P.push(A),P));c.value===null&&g.isSelected(O.value.value)&&(T.activeOptionIndex=T.options.indexOf(A)),u.value=T.options,c.value=T.activeOptionIndex,f.value=2,T.options.some(P=>!L(P.dataRef.domRef))&&(p=requestAnimationFrame(()=>{let P=x();u.value=P.options,c.value=P.activeOptionIndex}))},unregisterOption(m,O){if(v!==null&&cancelAnimationFrame(v),O&&(y.value=!0),g.virtual.value){u.value=u.value.filter(T=>T.id!==m);return}let A=x(T=>{let P=T.findIndex(N=>N.id===m);return P!==-1&&T.splice(P,1),T});u.value=A.options,c.value=A.activeOptionIndex,f.value=2},isSelected(m){return ee(S.value,{0:()=>g.compare(K(g.value.value),K(m)),1:()=>K(g.value.value).some(O=>g.compare(K(O),K(m)))})},isActive(m){return c.value===g.calculateIndex(m)}};Un([o,a,l],()=>g.closeCombobox(),k(()=>r.value===0)),Ht(li,g),Jn(k(()=>ee(r.value,{0:Re.Open,1:Re.Closed})));let B=k(()=>{var m;return(m=L(o))==null?void 0:m.closest("form")});return we(()=>{re([B],()=>{if(!B.value||e.defaultValue===void 0)return;function m(){g.change(e.defaultValue)}return B.value.addEventListener("reset",m),()=>{var O;(O=B.value)==null||O.removeEventListener("reset",m)}},{immediate:!0})}),()=>{var m,O,A;let{name:T,disabled:P,form:N,...q}=e,H={open:r.value===0,disabled:P,activeIndex:g.activeOptionIndex.value,activeOption:g.activeOptionIndex.value===null?null:g.virtual.value?g.virtual.value.options[(m=g.activeOptionIndex.value)!=null?m:0]:(A=(O=g.options.value[g.activeOptionIndex.value])==null?void 0:O.dataRef.value)!=null?A:null,value:h.value};return ze(Fe,[...T!=null&&h.value!=null?Kt({[T]:h.value}).map(([se,ce])=>ze(Hn,Qn({features:Wn.Hidden,key:se,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:N,disabled:P,name:se,value:ce}))):[],Ee({theirProps:{...t,...Ot(q,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:H,slots:n,attrs:t,name:"Combobox"})])}}}),qr=ue({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:i}){var r;let s=(r=e.id)!=null?r:`headlessui-combobox-button-${De()}`,o=We("ComboboxButton");i({el:o.buttonRef,$el:o.buttonRef});function a(u){o.disabled.value||(o.comboboxState.value===0?o.closeCombobox():(u.preventDefault(),o.openCombobox()),G(()=>{var c;return(c=L(o.inputRef))==null?void 0:c.focus({preventScroll:!0})}))}function l(u){switch(u.key){case V.ArrowDown:u.preventDefault(),u.stopPropagation(),o.comboboxState.value===1&&o.openCombobox(),G(()=>{var c;return(c=o.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return;case V.ArrowUp:u.preventDefault(),u.stopPropagation(),o.comboboxState.value===1&&(o.openCombobox(),G(()=>{o.value.value||o.goToOption($.Last)})),G(()=>{var c;return(c=o.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return;case V.Escape:if(o.comboboxState.value!==0)return;u.preventDefault(),o.optionsRef.value&&!o.optionsPropsRef.value.static&&u.stopPropagation(),o.closeCombobox(),G(()=>{var c;return(c=o.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return}}let d=Zn(k(()=>({as:e.as,type:n.type})),o.buttonRef);return()=>{var u,c;let f={open:o.comboboxState.value===0,disabled:o.disabled.value,value:o.value.value},{...y}=e,x={ref:o.buttonRef,id:s,type:d.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(u=L(o.optionsRef))==null?void 0:u.id,"aria-expanded":o.comboboxState.value===0,"aria-labelledby":o.labelRef.value?[(c=L(o.labelRef))==null?void 0:c.id,s].join(" "):void 0,disabled:o.disabled.value===!0?!0:void 0,onKeydown:l,onClick:a};return Ee({ourProps:x,theirProps:y,slot:f,attrs:n,slots:t,name:"ComboboxButton"})}}}),jr=ue({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:n,attrs:t,slots:i,expose:r}){var s;let o=(s=e.id)!=null?s:`headlessui-combobox-input-${De()}`,a=We("ComboboxInput"),l=k(()=>jn(L(a.inputRef))),d={value:!1};r({el:a.inputRef,$el:a.inputRef});function u(){a.change(null);let p=L(a.optionsRef);p&&(p.scrollTop=0),a.goToOption($.Nothing)}let c=k(()=>{var p;let b=a.value.value;return L(a.inputRef)?typeof e.displayValue<"u"&&b!==void 0?(p=e.displayValue(b))!=null?p:"":typeof b=="string"?b:"":""});we(()=>{re([c,a.comboboxState,l],([p,b],[C,g])=>{if(d.value)return;let B=L(a.inputRef);B&&((g===0&&b===1||p!==C)&&(B.value=p),requestAnimationFrame(()=>{var m;if(d.value||!B||((m=l.value)==null?void 0:m.activeElement)!==B)return;let{selectionStart:O,selectionEnd:A}=B;Math.abs((A??0)-(O??0))===0&&O===0&&B.setSelectionRange(B.value.length,B.value.length)}))},{immediate:!0}),re([a.comboboxState],([p],[b])=>{if(p===0&&b===1){if(d.value)return;let C=L(a.inputRef);if(!C)return;let g=C.value,{selectionStart:B,selectionEnd:m,selectionDirection:O}=C;C.value="",C.value=g,O!==null?C.setSelectionRange(B,m,O):C.setSelectionRange(B,m)}})});let f=M(!1);function y(){f.value=!0}function x(){Mt().nextFrame(()=>{f.value=!1})}let S=_r();function R(p){switch(d.value=!0,S(()=>{d.value=!1}),p.key){case V.Enter:if(d.value=!1,a.comboboxState.value!==0||f.value)return;if(p.preventDefault(),p.stopPropagation(),a.activeOptionIndex.value===null){a.closeCombobox();return}a.selectActiveOption(),a.mode.value===0&&a.closeCombobox();break;case V.ArrowDown:return d.value=!1,p.preventDefault(),p.stopPropagation(),ee(a.comboboxState.value,{0:()=>a.goToOption($.Next),1:()=>a.openCombobox()});case V.ArrowUp:return d.value=!1,p.preventDefault(),p.stopPropagation(),ee(a.comboboxState.value,{0:()=>a.goToOption($.Previous),1:()=>{a.openCombobox(),G(()=>{a.value.value||a.goToOption($.Last)})}});case V.Home:if(p.shiftKey)break;return d.value=!1,p.preventDefault(),p.stopPropagation(),a.goToOption($.First);case V.PageUp:return d.value=!1,p.preventDefault(),p.stopPropagation(),a.goToOption($.First);case V.End:if(p.shiftKey)break;return d.value=!1,p.preventDefault(),p.stopPropagation(),a.goToOption($.Last);case V.PageDown:return d.value=!1,p.preventDefault(),p.stopPropagation(),a.goToOption($.Last);case V.Escape:if(d.value=!1,a.comboboxState.value!==0)return;p.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&p.stopPropagation(),a.nullable.value&&a.mode.value===0&&a.value.value===null&&u(),a.closeCombobox();break;case V.Tab:if(d.value=!1,a.comboboxState.value!==0)return;a.mode.value===0&&a.activationTrigger.value!==1&&a.selectActiveOption(),a.closeCombobox();break}}function E(p){n("change",p),a.nullable.value&&a.mode.value===0&&p.target.value===""&&u(),a.openCombobox()}function w(p){var b,C,g;let B=(b=p.relatedTarget)!=null?b:bn.find(m=>m!==p.currentTarget);if(d.value=!1,!((C=L(a.optionsRef))!=null&&C.contains(B))&&!((g=L(a.buttonRef))!=null&&g.contains(B))&&a.comboboxState.value===0)return p.preventDefault(),a.mode.value===0&&(a.nullable.value&&a.value.value===null?u():a.activationTrigger.value!==1&&a.selectActiveOption()),a.closeCombobox()}function h(p){var b,C,g;let B=(b=p.relatedTarget)!=null?b:bn.find(m=>m!==p.currentTarget);(C=L(a.buttonRef))!=null&&C.contains(B)||(g=L(a.optionsRef))!=null&&g.contains(B)||a.disabled.value||a.immediate.value&&a.comboboxState.value!==0&&(a.openCombobox(),Mt().nextFrame(()=>{a.setActivationTrigger(1)}))}let v=k(()=>{var p,b,C,g;return(g=(C=(b=e.defaultValue)!=null?b:a.defaultValue.value!==void 0?(p=e.displayValue)==null?void 0:p.call(e,a.defaultValue.value):null)!=null?C:a.defaultValue.value)!=null?g:""});return()=>{var p,b,C,g,B,m,O;let A={open:a.comboboxState.value===0},{displayValue:T,onChange:P,...N}=e,q={"aria-controls":(p=a.optionsRef.value)==null?void 0:p.id,"aria-expanded":a.comboboxState.value===0,"aria-activedescendant":a.activeOptionIndex.value===null?void 0:a.virtual.value?(b=a.options.value.find(H=>!a.virtual.value.disabled(H.dataRef.value)&&a.compare(H.dataRef.value,a.virtual.value.options[a.activeOptionIndex.value])))==null?void 0:b.id:(C=a.options.value[a.activeOptionIndex.value])==null?void 0:C.id,"aria-labelledby":(m=(g=L(a.labelRef))==null?void 0:g.id)!=null?m:(B=L(a.buttonRef))==null?void 0:B.id,"aria-autocomplete":"list",id:o,onCompositionstart:y,onCompositionend:x,onKeydown:R,onInput:E,onFocus:h,onBlur:w,role:"combobox",type:(O=t.type)!=null?O:"text",tabIndex:0,ref:a.inputRef,defaultValue:v.value,disabled:a.disabled.value===!0?!0:void 0};return Ee({ourProps:q,theirProps:N,slot:A,attrs:t,slots:i,features:Ve.RenderStrategy|Ve.Static,name:"ComboboxInput"})}}}),Ur=ue({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:n,slots:t,expose:i}){let r=We("ComboboxOptions"),s=`headlessui-combobox-options-${De()}`;i({el:r.optionsRef,$el:r.optionsRef}),Le(()=>{r.optionsPropsRef.value.static=e.static}),Le(()=>{r.optionsPropsRef.value.hold=e.hold});let o=Gn(),a=k(()=>o!==null?(o.value&Re.Open)===Re.Open:r.comboboxState.value===0);Lr({container:k(()=>L(r.optionsRef)),enabled:k(()=>r.comboboxState.value===0),accept(d){return d.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}});function l(d){d.preventDefault()}return()=>{var d,u,c;let f={open:r.comboboxState.value===0},y={"aria-labelledby":(c=(d=L(r.labelRef))==null?void 0:d.id)!=null?c:(u=L(r.buttonRef))==null?void 0:u.id,id:s,ref:r.optionsRef,role:"listbox","aria-multiselectable":r.mode.value===1?!0:void 0,onMousedown:l},x=Ot(e,["hold"]);return Ee({ourProps:y,theirProps:x,slot:f,attrs:n,slots:r.virtual.value&&r.comboboxState.value===0?{...t,default:()=>[ze(zr,{},t.default)]}:t,features:Ve.RenderStrategy|Ve.Static,visible:a.value,name:"ComboboxOptions"})}}}),Hr=ue({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:n,attrs:t,expose:i}){let r=We("ComboboxOption"),s=`headlessui-combobox-option-${De()}`,o=M(null),a=k(()=>e.disabled);i({el:o,$el:o});let l=k(()=>{var w;return r.virtual.value?r.activeOptionIndex.value===r.calculateIndex(e.value):r.activeOptionIndex.value===null?!1:((w=r.options.value[r.activeOptionIndex.value])==null?void 0:w.id)===s}),d=k(()=>r.isSelected(e.value)),u=$e(ui,null),c=k(()=>({disabled:e.disabled,value:e.value,domRef:o,order:k(()=>e.order)}));we(()=>r.registerOption(s,c)),Ut(()=>r.unregisterOption(s,l.value)),Le(()=>{let w=L(o);w&&(u==null||u.value.measureElement(w))}),Le(()=>{r.comboboxState.value===0&&l.value&&(r.virtual.value||r.activationTrigger.value!==0&&G(()=>{var w,h;return(h=(w=L(o))==null?void 0:w.scrollIntoView)==null?void 0:h.call(w,{block:"nearest"})}))});function f(w){w.preventDefault(),w.button===oi.Left&&(a.value||(r.selectOption(s),Xi()||requestAnimationFrame(()=>{var h;return(h=L(r.inputRef))==null?void 0:h.focus({preventScroll:!0})}),r.mode.value===0&&r.closeCombobox()))}function y(){var w;if(e.disabled||(w=r.virtual.value)!=null&&w.disabled(e.value))return r.goToOption($.Nothing);let h=r.calculateIndex(e.value);r.goToOption($.Specific,h)}let x=ri();function S(w){x.update(w)}function R(w){var h;if(!x.wasMoved(w)||e.disabled||(h=r.virtual.value)!=null&&h.disabled(e.value)||l.value)return;let v=r.calculateIndex(e.value);r.goToOption($.Specific,v,0)}function E(w){var h;x.wasMoved(w)&&(e.disabled||(h=r.virtual.value)!=null&&h.disabled(e.value)||l.value&&(r.optionsPropsRef.value.hold||r.goToOption($.Nothing)))}return()=>{let{disabled:w}=e,h={active:l.value,selected:d.value,disabled:w},v={id:s,ref:o,role:"option",tabIndex:w===!0?void 0:-1,"aria-disabled":w===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onMousedown:f,onFocus:y,onPointerenter:S,onMouseenter:S,onPointermove:R,onMousemove:R,onPointerleave:E,onMouseleave:E},p=Ot(e,["order","value"]);return Ee({ourProps:v,theirProps:p,slot:h,attrs:t,slots:n,name:"ComboboxOption"})}}}),Sn=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function En(e){var n,t;let i=(n=e.innerText)!=null?n:"",r=e.cloneNode(!0);if(!(r instanceof HTMLElement))return i;let s=!1;for(let a of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(t=r.innerText)!=null?t:"":i;return Sn.test(o)&&(o=o.replace(Sn,"")),o}function Wr(e){let n=e.getAttribute("aria-label");if(typeof n=="string")return n.trim();let t=e.getAttribute("aria-labelledby");if(t){let i=t.split(" ").map(r=>{let s=document.getElementById(r);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():En(s).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return En(e).trim()}function Kr(e){let n=M(""),t=M("");return()=>{let i=L(e);if(!i)return"";let r=i.innerText;if(n.value===r)return t.value;let s=Wr(i).trim().toLowerCase();return n.value=r,t.value=s,s}}function Yr(e,n){return e===n}var Xr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Xr||{}),Jr=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Jr||{}),Qr=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Qr||{});function Zr(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let ci=Symbol("ListboxContext");function St(e){let n=$e(ci,null);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,St),t}return n}let Gr=ue({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Yr},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:n,attrs:t,emit:i}){let r=M(1),s=M(null),o=M(null),a=M(null),l=M([]),d=M(""),u=M(null),c=M(1);function f(h=v=>v){let v=u.value!==null?l.value[u.value]:null,p=Kn(h(l.value.slice()),C=>L(C.dataRef.domRef)),b=v?p.indexOf(v):null;return b===-1&&(b=null),{options:p,activeOptionIndex:b}}let y=k(()=>e.multiple?1:0),[x,S]=ii(k(()=>e.modelValue),h=>i("update:modelValue",h),k(()=>e.defaultValue)),R=k(()=>x.value===void 0?ee(y.value,{1:[],0:void 0}):x.value),E={listboxState:r,value:R,mode:y,compare(h,v){if(typeof e.by=="string"){let p=e.by;return(h==null?void 0:h[p])===(v==null?void 0:v[p])}return e.by(h,v)},orientation:k(()=>e.horizontal?"horizontal":"vertical"),labelRef:s,buttonRef:o,optionsRef:a,disabled:k(()=>e.disabled),options:l,searchQuery:d,activeOptionIndex:u,activationTrigger:c,closeListbox(){e.disabled||r.value!==1&&(r.value=1,u.value=null)},openListbox(){e.disabled||r.value!==0&&(r.value=0)},goToOption(h,v,p){if(e.disabled||r.value===1)return;let b=f(),C=Dt(h===$.Specific?{focus:$.Specific,id:v}:{focus:h},{resolveItems:()=>b.options,resolveActiveIndex:()=>b.activeOptionIndex,resolveId:g=>g.id,resolveDisabled:g=>g.dataRef.disabled});d.value="",u.value=C,c.value=p??1,l.value=b.options},search(h){if(e.disabled||r.value===1)return;let v=d.value!==""?0:1;d.value+=h.toLowerCase();let p=(u.value!==null?l.value.slice(u.value+v).concat(l.value.slice(0,u.value+v)):l.value).find(C=>C.dataRef.textValue.startsWith(d.value)&&!C.dataRef.disabled),b=p?l.value.indexOf(p):-1;b===-1||b===u.value||(u.value=b,c.value=1)},clearSearch(){e.disabled||r.value!==1&&d.value!==""&&(d.value="")},registerOption(h,v){let p=f(b=>[...b,{id:h,dataRef:v}]);l.value=p.options,u.value=p.activeOptionIndex},unregisterOption(h){let v=f(p=>{let b=p.findIndex(C=>C.id===h);return b!==-1&&p.splice(b,1),p});l.value=v.options,u.value=v.activeOptionIndex,c.value=1},theirOnChange(h){e.disabled||S(h)},select(h){e.disabled||S(ee(y.value,{0:()=>h,1:()=>{let v=K(E.value.value).slice(),p=K(h),b=v.findIndex(C=>E.compare(p,K(C)));return b===-1?v.push(p):v.splice(b,1),v}}))}};Un([o,a],(h,v)=>{var p;E.closeListbox(),Ji(v,Qi.Loose)||(h.preventDefault(),(p=L(o))==null||p.focus())},k(()=>r.value===0)),Ht(ci,E),Jn(k(()=>ee(r.value,{0:Re.Open,1:Re.Closed})));let w=k(()=>{var h;return(h=L(o))==null?void 0:h.closest("form")});return we(()=>{re([w],()=>{if(!w.value||e.defaultValue===void 0)return;function h(){E.theirOnChange(e.defaultValue)}return w.value.addEventListener("reset",h),()=>{var v;(v=w.value)==null||v.removeEventListener("reset",h)}},{immediate:!0})}),()=>{let{name:h,modelValue:v,disabled:p,form:b,...C}=e,g={open:r.value===0,disabled:p,value:R.value};return ze(Fe,[...h!=null&&R.value!=null?Kt({[h]:R.value}).map(([B,m])=>ze(Hn,Qn({features:Wn.Hidden,key:B,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:b,disabled:p,name:B,value:m}))):[],Ee({ourProps:{},theirProps:{...t,...Ot(C,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:g,slots:n,attrs:t,name:"Listbox"})])}}}),eo=ue({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:i}){var r;let s=(r=e.id)!=null?r:`headlessui-listbox-button-${De()}`,o=St("ListboxButton");i({el:o.buttonRef,$el:o.buttonRef});function a(c){switch(c.key){case V.Space:case V.Enter:case V.ArrowDown:c.preventDefault(),o.openListbox(),G(()=>{var f;(f=L(o.optionsRef))==null||f.focus({preventScroll:!0}),o.value.value||o.goToOption($.First)});break;case V.ArrowUp:c.preventDefault(),o.openListbox(),G(()=>{var f;(f=L(o.optionsRef))==null||f.focus({preventScroll:!0}),o.value.value||o.goToOption($.Last)});break}}function l(c){switch(c.key){case V.Space:c.preventDefault();break}}function d(c){o.disabled.value||(o.listboxState.value===0?(o.closeListbox(),G(()=>{var f;return(f=L(o.buttonRef))==null?void 0:f.focus({preventScroll:!0})})):(c.preventDefault(),o.openListbox(),Zr(()=>{var f;return(f=L(o.optionsRef))==null?void 0:f.focus({preventScroll:!0})})))}let u=Zn(k(()=>({as:e.as,type:n.type})),o.buttonRef);return()=>{var c,f;let y={open:o.listboxState.value===0,disabled:o.disabled.value,value:o.value.value},{...x}=e,S={ref:o.buttonRef,id:s,type:u.value,"aria-haspopup":"listbox","aria-controls":(c=L(o.optionsRef))==null?void 0:c.id,"aria-expanded":o.listboxState.value===0,"aria-labelledby":o.labelRef.value?[(f=L(o.labelRef))==null?void 0:f.id,s].join(" "):void 0,disabled:o.disabled.value===!0?!0:void 0,onKeydown:a,onKeyup:l,onClick:d};return Ee({ourProps:S,theirProps:x,slot:y,attrs:n,slots:t,name:"ListboxButton"})}}}),to=ue({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:i}){var r;let s=(r=e.id)!=null?r:`headlessui-listbox-options-${De()}`,o=St("ListboxOptions"),a=M(null);i({el:o.optionsRef,$el:o.optionsRef});function l(c){switch(a.value&&clearTimeout(a.value),c.key){case V.Space:if(o.searchQuery.value!=="")return c.preventDefault(),c.stopPropagation(),o.search(c.key);case V.Enter:if(c.preventDefault(),c.stopPropagation(),o.activeOptionIndex.value!==null){let f=o.options.value[o.activeOptionIndex.value];o.select(f.dataRef.value)}o.mode.value===0&&(o.closeListbox(),G(()=>{var f;return(f=L(o.buttonRef))==null?void 0:f.focus({preventScroll:!0})}));break;case ee(o.orientation.value,{vertical:V.ArrowDown,horizontal:V.ArrowRight}):return c.preventDefault(),c.stopPropagation(),o.goToOption($.Next);case ee(o.orientation.value,{vertical:V.ArrowUp,horizontal:V.ArrowLeft}):return c.preventDefault(),c.stopPropagation(),o.goToOption($.Previous);case V.Home:case V.PageUp:return c.preventDefault(),c.stopPropagation(),o.goToOption($.First);case V.End:case V.PageDown:return c.preventDefault(),c.stopPropagation(),o.goToOption($.Last);case V.Escape:c.preventDefault(),c.stopPropagation(),o.closeListbox(),G(()=>{var f;return(f=L(o.buttonRef))==null?void 0:f.focus({preventScroll:!0})});break;case V.Tab:c.preventDefault(),c.stopPropagation();break;default:c.key.length===1&&(o.search(c.key),a.value=setTimeout(()=>o.clearSearch(),350));break}}let d=Gn(),u=k(()=>d!==null?(d.value&Re.Open)===Re.Open:o.listboxState.value===0);return()=>{var c,f;let y={open:o.listboxState.value===0},{...x}=e,S={"aria-activedescendant":o.activeOptionIndex.value===null||(c=o.options.value[o.activeOptionIndex.value])==null?void 0:c.id,"aria-multiselectable":o.mode.value===1?!0:void 0,"aria-labelledby":(f=L(o.buttonRef))==null?void 0:f.id,"aria-orientation":o.orientation.value,id:s,onKeydown:l,role:"listbox",tabIndex:0,ref:o.optionsRef};return Ee({ourProps:S,theirProps:x,slot:y,attrs:n,slots:t,features:Ve.RenderStrategy|Ve.Static,visible:u.value,name:"ListboxOptions"})}}}),no=ue({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:n,attrs:t,expose:i}){var r;let s=(r=e.id)!=null?r:`headlessui-listbox-option-${De()}`,o=St("ListboxOption"),a=M(null);i({el:a,$el:a});let l=k(()=>o.activeOptionIndex.value!==null?o.options.value[o.activeOptionIndex.value].id===s:!1),d=k(()=>ee(o.mode.value,{0:()=>o.compare(K(o.value.value),K(e.value)),1:()=>K(o.value.value).some(h=>o.compare(K(h),K(e.value)))})),u=k(()=>ee(o.mode.value,{1:()=>{var h;let v=K(o.value.value);return((h=o.options.value.find(p=>v.some(b=>o.compare(K(b),K(p.dataRef.value)))))==null?void 0:h.id)===s},0:()=>d.value})),c=Kr(a),f=k(()=>({disabled:e.disabled,value:e.value,get textValue(){return c()},domRef:a}));we(()=>o.registerOption(s,f)),Ut(()=>o.unregisterOption(s)),we(()=>{re([o.listboxState,d],()=>{o.listboxState.value===0&&d.value&&ee(o.mode.value,{1:()=>{u.value&&o.goToOption($.Specific,s)},0:()=>{o.goToOption($.Specific,s)}})},{immediate:!0})}),Le(()=>{o.listboxState.value===0&&l.value&&o.activationTrigger.value!==0&&G(()=>{var h,v;return(v=(h=L(a))==null?void 0:h.scrollIntoView)==null?void 0:v.call(h,{block:"nearest"})})});function y(h){if(e.disabled)return h.preventDefault();o.select(e.value),o.mode.value===0&&(o.closeListbox(),G(()=>{var v;return(v=L(o.buttonRef))==null?void 0:v.focus({preventScroll:!0})}))}function x(){if(e.disabled)return o.goToOption($.Nothing);o.goToOption($.Specific,s)}let S=ri();function R(h){S.update(h)}function E(h){S.wasMoved(h)&&(e.disabled||l.value||o.goToOption($.Specific,s,0))}function w(h){S.wasMoved(h)&&(e.disabled||l.value&&o.goToOption($.Nothing))}return()=>{let{disabled:h}=e,v={active:l.value,selected:d.value,disabled:h},{value:p,disabled:b,...C}=e,g={id:s,ref:a,role:"option",tabIndex:h===!0?void 0:-1,"aria-disabled":h===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onClick:y,onFocus:x,onPointerenter:R,onMouseenter:R,onPointermove:E,onMousemove:E,onPointerleave:w,onMouseleave:w};return Ee({ourProps:g,theirProps:C,slot:v,attrs:t,slots:n,name:"ListboxOption"})}}});function oe(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var n=e.ownerDocument;return n&&n.defaultView||window}return e}function Me(e){var n=oe(e).Element;return e instanceof n||e instanceof Element}function le(e){var n=oe(e).HTMLElement;return e instanceof n||e instanceof HTMLElement}function Yt(e){if(typeof ShadowRoot>"u")return!1;var n=oe(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}var _e=Math.max,xt=Math.min,qe=Math.round;function Pt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function di(){return!/^((?!chrome|android).)*safari/i.test(Pt())}function je(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!1);var i=e.getBoundingClientRect(),r=1,s=1;n&&le(e)&&(r=e.offsetWidth>0&&qe(i.width)/e.offsetWidth||1,s=e.offsetHeight>0&&qe(i.height)/e.offsetHeight||1);var o=Me(e)?oe(e):window,a=o.visualViewport,l=!di()&&t,d=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/s,c=i.width/r,f=i.height/s;return{width:c,height:f,top:u,right:d+c,bottom:u+f,left:d,x:d,y:u}}function Xt(e){var n=oe(e),t=n.pageXOffset,i=n.pageYOffset;return{scrollLeft:t,scrollTop:i}}function io(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ro(e){return e===oe(e)||!le(e)?Xt(e):io(e)}function xe(e){return e?(e.nodeName||"").toLowerCase():null}function Ae(e){return((Me(e)?e.ownerDocument:e.document)||window.document).documentElement}function Jt(e){return je(Ae(e)).left+Xt(e).scrollLeft}function Se(e){return oe(e).getComputedStyle(e)}function Qt(e){var n=Se(e),t=n.overflow,i=n.overflowX,r=n.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function oo(e){var n=e.getBoundingClientRect(),t=qe(n.width)/e.offsetWidth||1,i=qe(n.height)/e.offsetHeight||1;return t!==1||i!==1}function so(e,n,t){t===void 0&&(t=!1);var i=le(n),r=le(n)&&oo(n),s=Ae(n),o=je(e,r,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((xe(n)!=="body"||Qt(s))&&(a=ro(n)),le(n)?(l=je(n,!0),l.x+=n.clientLeft,l.y+=n.clientTop):s&&(l.x=Jt(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Zt(e){var n=je(e),t=e.offsetWidth,i=e.offsetHeight;return Math.abs(n.width-t)<=1&&(t=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:e.offsetLeft,y:e.offsetTop,width:t,height:i}}function Et(e){return xe(e)==="html"?e:e.assignedSlot||e.parentNode||(Yt(e)?e.host:null)||Ae(e)}function fi(e){return["html","body","#document"].indexOf(xe(e))>=0?e.ownerDocument.body:le(e)&&Qt(e)?e:fi(Et(e))}function it(e,n){var t;n===void 0&&(n=[]);var i=fi(e),r=i===((t=e.ownerDocument)==null?void 0:t.body),s=oe(i),o=r?[s].concat(s.visualViewport||[],Qt(i)?i:[]):i,a=n.concat(o);return r?a:a.concat(it(Et(o)))}function ao(e){return["table","td","th"].indexOf(xe(e))>=0}function kn(e){return!le(e)||Se(e).position==="fixed"?null:e.offsetParent}function lo(e){var n=/firefox/i.test(Pt()),t=/Trident/i.test(Pt());if(t&&le(e)){var i=Se(e);if(i.position==="fixed")return null}var r=Et(e);for(Yt(r)&&(r=r.host);le(r)&&["html","body"].indexOf(xe(r))<0;){var s=Se(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||n&&s.willChange==="filter"||n&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function st(e){for(var n=oe(e),t=kn(e);t&&ao(t)&&Se(t).position==="static";)t=kn(t);return t&&(xe(t)==="html"||xe(t)==="body"&&Se(t).position==="static")?n:t||lo(e)||n}var ne="top",he="bottom",ve="right",ie="left",Gt="auto",at=[ne,he,ve,ie],Ue="start",ot="end",uo="clippingParents",pi="viewport",Ze="popper",co="reference",Cn=at.reduce(function(e,n){return e.concat([n+"-"+Ue,n+"-"+ot])},[]),hi=[].concat(at,[Gt]).reduce(function(e,n){return e.concat([n,n+"-"+Ue,n+"-"+ot])},[]),fo="beforeRead",po="read",ho="afterRead",vo="beforeMain",mo="main",go="afterMain",bo="beforeWrite",yo="write",wo="afterWrite",xo=[fo,po,ho,vo,mo,go,bo,yo,wo];function Oo(e){var n=new Map,t=new Set,i=[];e.forEach(function(s){n.set(s.name,s)});function r(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=n.get(a);l&&r(l)}}),i.push(s)}return e.forEach(function(s){t.has(s.name)||r(s)}),i}function So(e){var n=Oo(e);return xo.reduce(function(t,i){return t.concat(n.filter(function(r){return r.phase===i}))},[])}function Eo(e){var n;return function(){return n||(n=new Promise(function(t){Promise.resolve().then(function(){n=void 0,t(e())})})),n}}function ko(e){var n=e.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(n).map(function(t){return n[t]})}function Co(e,n){var t=oe(e),i=Ae(e),r=t.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var d=di();(d||!d&&n==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+Jt(e),y:l}}function Ro(e){var n,t=Ae(e),i=Xt(e),r=(n=e.ownerDocument)==null?void 0:n.body,s=_e(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=_e(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+Jt(e),l=-i.scrollTop;return Se(r||t).direction==="rtl"&&(a+=_e(t.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function vi(e,n){var t=n.getRootNode&&n.getRootNode();if(e.contains(n))return!0;if(t&&Yt(t)){var i=n;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Nt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ao(e,n){var t=je(e,!1,n==="fixed");return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Rn(e,n,t){return n===pi?Nt(Co(e,t)):Me(n)?Ao(n,t):Nt(Ro(Ae(e)))}function To(e){var n=it(Et(e)),t=["absolute","fixed"].indexOf(Se(e).position)>=0,i=t&&le(e)?st(e):e;return Me(i)?n.filter(function(r){return Me(r)&&vi(r,i)&&xe(r)!=="body"}):[]}function Io(e,n,t,i){var r=n==="clippingParents"?To(e):[].concat(n),s=[].concat(r,[t]),o=s[0],a=s.reduce(function(l,d){var u=Rn(e,d,i);return l.top=_e(u.top,l.top),l.right=xt(u.right,l.right),l.bottom=xt(u.bottom,l.bottom),l.left=_e(u.left,l.left),l},Rn(e,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function be(e){return e.split("-")[0]}function He(e){return e.split("-")[1]}function en(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function mi(e){var n=e.reference,t=e.element,i=e.placement,r=i?be(i):null,s=i?He(i):null,o=n.x+n.width/2-t.width/2,a=n.y+n.height/2-t.height/2,l;switch(r){case ne:l={x:o,y:n.y-t.height};break;case he:l={x:o,y:n.y+n.height};break;case ve:l={x:n.x+n.width,y:a};break;case ie:l={x:n.x-t.width,y:a};break;default:l={x:n.x,y:n.y}}var d=r?en(r):null;if(d!=null){var u=d==="y"?"height":"width";switch(s){case Ue:l[d]=l[d]-(n[u]/2-t[u]/2);break;case ot:l[d]=l[d]+(n[u]/2-t[u]/2);break}}return l}function gi(){return{top:0,right:0,bottom:0,left:0}}function bi(e){return Object.assign({},gi(),e)}function yi(e,n){return n.reduce(function(t,i){return t[i]=e,t},{})}function tn(e,n){n===void 0&&(n={});var t=n,i=t.placement,r=i===void 0?e.placement:i,s=t.strategy,o=s===void 0?e.strategy:s,a=t.boundary,l=a===void 0?uo:a,d=t.rootBoundary,u=d===void 0?pi:d,c=t.elementContext,f=c===void 0?Ze:c,y=t.altBoundary,x=y===void 0?!1:y,S=t.padding,R=S===void 0?0:S,E=bi(typeof R!="number"?R:yi(R,at)),w=f===Ze?co:Ze,h=e.rects.popper,v=e.elements[x?w:f],p=Io(Me(v)?v:v.contextElement||Ae(e.elements.popper),l,u,o),b=je(e.elements.reference),C=mi({reference:b,element:h,strategy:"absolute",placement:r}),g=Nt(Object.assign({},h,C)),B=f===Ze?g:b,m={top:p.top-B.top+E.top,bottom:B.bottom-p.bottom+E.bottom,left:p.left-B.left+E.left,right:B.right-p.right+E.right},O=e.modifiersData.offset;if(f===Ze&&O){var A=O[r];Object.keys(m).forEach(function(T){var P=[ve,he].indexOf(T)>=0?1:-1,N=[ne,he].indexOf(T)>=0?"y":"x";m[T]+=A[N]*P})}return m}var An={placement:"bottom",modifiers:[],strategy:"absolute"};function Tn(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return!n.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Bo(e){e===void 0&&(e={});var n=e,t=n.defaultModifiers,i=t===void 0?[]:t,r=n.defaultOptions,s=r===void 0?An:r;return function(a,l,d){d===void 0&&(d=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},An,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},c=[],f=!1,y={state:u,setOptions:function(E){var w=typeof E=="function"?E(u.options):E;S(),u.options=Object.assign({},s,u.options,w),u.scrollParents={reference:Me(a)?it(a):a.contextElement?it(a.contextElement):[],popper:it(l)};var h=So(ko([].concat(i,u.options.modifiers)));return u.orderedModifiers=h.filter(function(v){return v.enabled}),x(),y.update()},forceUpdate:function(){if(!f){var E=u.elements,w=E.reference,h=E.popper;if(Tn(w,h)){u.rects={reference:so(w,st(h),u.options.strategy==="fixed"),popper:Zt(h)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(m){return u.modifiersData[m.name]=Object.assign({},m.data)});for(var v=0;v<u.orderedModifiers.length;v++){if(u.reset===!0){u.reset=!1,v=-1;continue}var p=u.orderedModifiers[v],b=p.fn,C=p.options,g=C===void 0?{}:C,B=p.name;typeof b=="function"&&(u=b({state:u,options:g,name:B,instance:y})||u)}}}},update:Eo(function(){return new Promise(function(R){y.forceUpdate(),R(u)})}),destroy:function(){S(),f=!0}};if(!Tn(a,l))return y;y.setOptions(d).then(function(R){!f&&d.onFirstUpdate&&d.onFirstUpdate(R)});function x(){u.orderedModifiers.forEach(function(R){var E=R.name,w=R.options,h=w===void 0?{}:w,v=R.effect;if(typeof v=="function"){var p=v({state:u,name:E,instance:y,options:h}),b=function(){};c.push(p||b)}})}function S(){c.forEach(function(R){return R()}),c=[]}return y}}var ct={passive:!0};function _o(e){var n=e.state,t=e.instance,i=e.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=oe(n.elements.popper),d=[].concat(n.scrollParents.reference,n.scrollParents.popper);return s&&d.forEach(function(u){u.addEventListener("scroll",t.update,ct)}),a&&l.addEventListener("resize",t.update,ct),function(){s&&d.forEach(function(u){u.removeEventListener("scroll",t.update,ct)}),a&&l.removeEventListener("resize",t.update,ct)}}const wi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:_o,data:{}};function Lo(e){var n=e.state,t=e.name;n.modifiersData[t]=mi({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}const Mo={name:"popperOffsets",enabled:!0,phase:"read",fn:Lo,data:{}};var Do={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Po(e,n){var t=e.x,i=e.y,r=n.devicePixelRatio||1;return{x:qe(t*r)/r||0,y:qe(i*r)/r||0}}function In(e){var n,t=e.popper,i=e.popperRect,r=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,d=e.adaptive,u=e.roundOffsets,c=e.isFixed,f=o.x,y=f===void 0?0:f,x=o.y,S=x===void 0?0:x,R=typeof u=="function"?u({x:y,y:S}):{x:y,y:S};y=R.x,S=R.y;var E=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),h=ie,v=ne,p=window;if(d){var b=st(t),C="clientHeight",g="clientWidth";if(b===oe(t)&&(b=Ae(t),Se(b).position!=="static"&&a==="absolute"&&(C="scrollHeight",g="scrollWidth")),b=b,r===ne||(r===ie||r===ve)&&s===ot){v=he;var B=c&&b===p&&p.visualViewport?p.visualViewport.height:b[C];S-=B-i.height,S*=l?1:-1}if(r===ie||(r===ne||r===he)&&s===ot){h=ve;var m=c&&b===p&&p.visualViewport?p.visualViewport.width:b[g];y-=m-i.width,y*=l?1:-1}}var O=Object.assign({position:a},d&&Do),A=u===!0?Po({x:y,y:S},oe(t)):{x:y,y:S};if(y=A.x,S=A.y,l){var T;return Object.assign({},O,(T={},T[v]=w?"0":"",T[h]=E?"0":"",T.transform=(p.devicePixelRatio||1)<=1?"translate("+y+"px, "+S+"px)":"translate3d("+y+"px, "+S+"px, 0)",T))}return Object.assign({},O,(n={},n[v]=w?S+"px":"",n[h]=E?y+"px":"",n.transform="",n))}function No(e){var n=e.state,t=e.options,i=t.gpuAcceleration,r=i===void 0?!0:i,s=t.adaptive,o=s===void 0?!0:s,a=t.roundOffsets,l=a===void 0?!0:a,d={placement:be(n.placement),variation:He(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:r,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,In(Object.assign({},d,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:o,roundOffsets:l})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,In(Object.assign({},d,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const xi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:No,data:{}};function $o(e){var n=e.state;Object.keys(n.elements).forEach(function(t){var i=n.styles[t]||{},r=n.attributes[t]||{},s=n.elements[t];!le(s)||!xe(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Vo(e){var n=e.state,t={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,t.popper),n.styles=t,n.elements.arrow&&Object.assign(n.elements.arrow.style,t.arrow),function(){Object.keys(n.elements).forEach(function(i){var r=n.elements[i],s=n.attributes[i]||{},o=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:t[i]),a=o.reduce(function(l,d){return l[d]="",l},{});!le(r)||!xe(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const zo={name:"applyStyles",enabled:!0,phase:"write",fn:$o,effect:Vo,requires:["computeStyles"]};var Fo=[wi,Mo,xi,zo],qo={left:"right",right:"left",bottom:"top",top:"bottom"};function gt(e){return e.replace(/left|right|bottom|top/g,function(n){return qo[n]})}var jo={start:"end",end:"start"};function Bn(e){return e.replace(/start|end/g,function(n){return jo[n]})}function Uo(e,n){n===void 0&&(n={});var t=n,i=t.placement,r=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,d=l===void 0?hi:l,u=He(i),c=u?a?Cn:Cn.filter(function(x){return He(x)===u}):at,f=c.filter(function(x){return d.indexOf(x)>=0});f.length===0&&(f=c);var y=f.reduce(function(x,S){return x[S]=tn(e,{placement:S,boundary:r,rootBoundary:s,padding:o})[be(S)],x},{});return Object.keys(y).sort(function(x,S){return y[x]-y[S]})}function Ho(e){if(be(e)===Gt)return[];var n=gt(e);return[Bn(e),n,Bn(n)]}function Wo(e){var n=e.state,t=e.options,i=e.name;if(!n.modifiersData[i]._skip){for(var r=t.mainAxis,s=r===void 0?!0:r,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,d=t.padding,u=t.boundary,c=t.rootBoundary,f=t.altBoundary,y=t.flipVariations,x=y===void 0?!0:y,S=t.allowedAutoPlacements,R=n.options.placement,E=be(R),w=E===R,h=l||(w||!x?[gt(R)]:Ho(R)),v=[R].concat(h).reduce(function(Pe,Ce){return Pe.concat(be(Ce)===Gt?Uo(n,{placement:Ce,boundary:u,rootBoundary:c,padding:d,flipVariations:x,allowedAutoPlacements:S}):Ce)},[]),p=n.rects.reference,b=n.rects.popper,C=new Map,g=!0,B=v[0],m=0;m<v.length;m++){var O=v[m],A=be(O),T=He(O)===Ue,P=[ne,he].indexOf(A)>=0,N=P?"width":"height",q=tn(n,{placement:O,boundary:u,rootBoundary:c,altBoundary:f,padding:d}),H=P?T?ve:ie:T?he:ne;p[N]>b[N]&&(H=gt(H));var se=gt(H),ce=[];if(s&&ce.push(q[A]<=0),a&&ce.push(q[H]<=0,q[se]<=0),ce.every(function(Pe){return Pe})){B=O,g=!1;break}C.set(O,ce)}if(g)for(var j=x?3:1,X=function(Ce){var Ye=v.find(function(lt){var Te=C.get(lt);if(Te)return Te.slice(0,Ce).every(function(Ct){return Ct})});if(Ye)return B=Ye,"break"},me=j;me>0;me--){var ke=X(me);if(ke==="break")break}n.placement!==B&&(n.modifiersData[i]._skip=!0,n.placement=B,n.reset=!0)}}const Ko={name:"flip",enabled:!0,phase:"main",fn:Wo,requiresIfExists:["offset"],data:{_skip:!1}};function Yo(e,n,t){var i=be(e),r=[ie,ne].indexOf(i)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},n,{placement:e})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[ie,ve].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function Xo(e){var n=e.state,t=e.options,i=e.name,r=t.offset,s=r===void 0?[0,0]:r,o=hi.reduce(function(u,c){return u[c]=Yo(c,n.rects,s),u},{}),a=o[n.placement],l=a.x,d=a.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=l,n.modifiersData.popperOffsets.y+=d),n.modifiersData[i]=o}const Jo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Xo};function Qo(e){return e==="x"?"y":"x"}function rt(e,n,t){return _e(e,xt(n,t))}function Zo(e,n,t){var i=rt(e,n,t);return i>t?t:i}function Go(e){var n=e.state,t=e.options,i=e.name,r=t.mainAxis,s=r===void 0?!0:r,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,d=t.rootBoundary,u=t.altBoundary,c=t.padding,f=t.tether,y=f===void 0?!0:f,x=t.tetherOffset,S=x===void 0?0:x,R=tn(n,{boundary:l,rootBoundary:d,padding:c,altBoundary:u}),E=be(n.placement),w=He(n.placement),h=!w,v=en(E),p=Qo(v),b=n.modifiersData.popperOffsets,C=n.rects.reference,g=n.rects.popper,B=typeof S=="function"?S(Object.assign({},n.rects,{placement:n.placement})):S,m=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),O=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,A={x:0,y:0};if(b){if(s){var T,P=v==="y"?ne:ie,N=v==="y"?he:ve,q=v==="y"?"height":"width",H=b[v],se=H+R[P],ce=H-R[N],j=y?-g[q]/2:0,X=w===Ue?C[q]:g[q],me=w===Ue?-g[q]:-C[q],ke=n.elements.arrow,Pe=y&&ke?Zt(ke):{width:0,height:0},Ce=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:gi(),Ye=Ce[P],lt=Ce[N],Te=rt(0,C[q],Pe[q]),Ct=h?C[q]/2-j-Te-Ye-m.mainAxis:X-Te-Ye-m.mainAxis,Pi=h?-C[q]/2+j+Te+lt+m.mainAxis:me+Te+lt+m.mainAxis,Rt=n.elements.arrow&&st(n.elements.arrow),Ni=Rt?v==="y"?Rt.clientTop||0:Rt.clientLeft||0:0,un=(T=O==null?void 0:O[v])!=null?T:0,$i=H+Ct-un-Ni,Vi=H+Pi-un,cn=rt(y?xt(se,$i):se,H,y?_e(ce,Vi):ce);b[v]=cn,A[v]=cn-H}if(a){var dn,zi=v==="x"?ne:ie,Fi=v==="x"?he:ve,Ie=b[p],ut=p==="y"?"height":"width",fn=Ie+R[zi],pn=Ie-R[Fi],At=[ne,ie].indexOf(E)!==-1,hn=(dn=O==null?void 0:O[p])!=null?dn:0,vn=At?fn:Ie-C[ut]-g[ut]-hn+m.altAxis,mn=At?Ie+C[ut]+g[ut]-hn-m.altAxis:pn,gn=y&&At?Zo(vn,Ie,mn):rt(y?vn:fn,Ie,y?mn:pn);b[p]=gn,A[p]=gn-Ie}n.modifiersData[i]=A}}const es={name:"preventOverflow",enabled:!0,phase:"main",fn:Go,requiresIfExists:["offset"]};var ts=function(n,t){return n=typeof n=="function"?n(Object.assign({},t.rects,{placement:t.placement})):n,bi(typeof n!="number"?n:yi(n,at))};function ns(e){var n,t=e.state,i=e.name,r=e.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=be(t.placement),l=en(a),d=[ie,ve].indexOf(a)>=0,u=d?"height":"width";if(!(!s||!o)){var c=ts(r.padding,t),f=Zt(s),y=l==="y"?ne:ie,x=l==="y"?he:ve,S=t.rects.reference[u]+t.rects.reference[l]-o[l]-t.rects.popper[u],R=o[l]-t.rects.reference[l],E=st(s),w=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,h=S/2-R/2,v=c[y],p=w-f[u]-c[x],b=w/2-f[u]/2+h,C=rt(v,b,p),g=l;t.modifiersData[i]=(n={},n[g]=C,n.centerOffset=C-b,n)}}function is(e){var n=e.state,t=e.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=n.elements.popper.querySelector(r),!r)||vi(n.elements.popper,r)&&(n.elements.arrow=r))}const rs={name:"arrow",enabled:!0,phase:"main",fn:ns,effect:is,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},os=Bo({defaultModifiers:[...Fo,Jo,Ko,es,xi,wi,rs]});function ss({locked:e=!1,overflowPadding:n=8,offsetDistance:t=8,offsetSkid:i=0,gpuAcceleration:r=!0,adaptive:s=!0,scroll:o=!0,resize:a=!0,arrow:l=!1,placement:d,strategy:u},c){const f=M(null),y=M(null),x=M(null);return we(()=>{Le(S=>{if(!y.value||!f.value&&!(c!=null&&c.value))return;const R=yn(y),E=yn(f);if(!(R instanceof HTMLElement)||!E)return;const w={modifiers:[{name:"flip",enabled:!e},{name:"preventOverflow",options:{padding:n}},{name:"offset",options:{offset:[i,t]}},{name:"computeStyles",options:{adaptive:s,gpuAcceleration:r}},{name:"eventListeners",options:{scroll:o,resize:a}},{name:"arrow",enabled:l}]};d&&(w.placement=d),u&&(w.strategy=u),x.value=os(E,R,w),S(x.value.destroy)})}),[f,y,x]}const as=(e,n)=>{const t=$e("form-events",void 0),i=$e("form-group",void 0),r=$e("form-inputs",void 0);i&&(e!=null&&e.id&&(i.inputId.value=e==null?void 0:e.id),r&&(r.value[i.name.value]=i.inputId.value));const s=M(!1);function o(u,c){t&&t.emit({type:u,path:c})}function a(){o("blur",i==null?void 0:i.name.value),s.value=!0}function l(){o("change",i==null?void 0:i.name.value)}const d=Yn(()=>{(s.value||i!=null&&i.eagerValidation.value)&&o("input",i==null?void 0:i.name.value)},300);return{inputId:k(()=>(e==null?void 0:e.id)??(i==null?void 0:i.inputId.value)),name:k(()=>(e==null?void 0:e.name)??(i==null?void 0:i.name.value)),size:k(()=>{var c;const u=n.size[i==null?void 0:i.size.value]?i==null?void 0:i.size.value:null;return(e==null?void 0:e.size)??u??((c=n==null?void 0:n.default)==null?void 0:c.size)}),color:k(()=>{var u;return(u=i==null?void 0:i.error)!=null&&u.value?"red":e==null?void 0:e.color}),emitFormBlur:a,emitFormInput:d,emitFormChange:l}},ge=ei(Be.ui.strategy,Be.ui.select,gr),dt=ei(Be.ui.strategy,Be.ui.selectMenu,Ui),ls=ue({components:{HCombobox:Fr,HComboboxButton:qr,HComboboxOptions:Ur,HComboboxOption:Hr,HComboboxInput:jr,HListbox:Gr,HListboxButton:eo,HListboxOptions:to,HListboxOption:no,UIcon:qn,UAvatar:Xn},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ge.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>ge.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>dt.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:"Search..."},searchableLazy:{type:Boolean,default:!1},clearSearchOnClose:{type:Boolean,default:()=>dt.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:String,default:()=>dt.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(ge.size).includes(e)}},color:{type:String,default:()=>ge.default.color,validator(e){return[...Be.ui.colors,...Object.keys(ge.color)].includes(e)}},variant:{type:String,default:()=>ge.default.variant,validator(e){return[...Object.keys(ge.variant),...Object.values(ge.color).flatMap(n=>Object.keys(n))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:n,slots:t}){const{ui:i,attrs:r}=Lt("select",tt(e,"ui"),ge,tt(e,"class")),{ui:s}=Lt("selectMenu",tt(e,"uiMenu"),dt),o=k(()=>sr({},e.popper,s.value.popper)),[a,l]=ss(o.value),{size:d,rounded:u}=Hi({ui:i,props:e}),{emitFormBlur:c,emitFormChange:f,inputId:y,color:x,size:S,name:R}=as(e,ge),E=k(()=>d.value||S.value),w=M(""),h=k({get(){return e.query??w.value},set(j){w.value=j,n("update:query",j)}}),v=k(()=>{if(e.multiple)return Array.isArray(e.modelValue)&&e.modelValue.length?`${e.modelValue.length} selected`:null;if(e.modelValue!==void 0&&e.modelValue!==null)if(e.valueAttribute){const j=e.options.find(X=>X[e.valueAttribute]===e.modelValue);return j?j[e.optionAttribute]:null}else return["string","number"].includes(typeof e.modelValue)?e.modelValue:e.modelValue[e.optionAttribute];return null}),p=k(()=>{var X,me;const j=((me=(X=i.value.color)==null?void 0:X[x.value])==null?void 0:me[e.variant])||i.value.variant[e.variant];return ar(Xe(i.value.base,s.value.select,u.value,i.value.size[E.value],i.value.gap[E.value],e.padded?i.value.padding[E.value]:"p-0",j==null?void 0:j.replaceAll("{color}",x.value),(b.value||t.leading)&&i.value.leading.padding[E.value],(C.value||t.trailing)&&i.value.trailing.padding[E.value]),e.placeholder&&!e.modelValue&&i.value.placeholder,e.selectClass)}),b=k(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),C=k(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),g=k(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),B=k(()=>e.loading&&!b.value?e.loadingIcon:e.trailingIcon||e.icon),m=k(()=>Xe(i.value.icon.leading.wrapper,i.value.icon.leading.pointer,i.value.icon.leading.padding[E.value])),O=k(()=>Xe(i.value.icon.base,x.value&&Be.ui.colors.includes(x.value)&&i.value.icon.color.replaceAll("{color}",x.value),i.value.icon.size[E.value],e.loading&&i.value.icon.loading)),A=k(()=>Xe(i.value.icon.trailing.wrapper,i.value.icon.trailing.pointer,i.value.icon.trailing.padding[E.value])),T=k(()=>Xe(i.value.icon.base,x.value&&Be.ui.colors.includes(x.value)&&i.value.icon.color.replaceAll("{color}",x.value),i.value.icon.size[E.value],e.loading&&!b.value&&i.value.icon.loading)),P=typeof e.searchable=="function"?Yn(e.searchable,e.debounce):void 0,N=Zi(async()=>e.searchable&&P?await P(h.value):h.value===""?e.options:e.options.filter(j=>{var X;return((X=e.searchAttributes)!=null&&X.length?e.searchAttributes:[e.optionAttribute]).some(me=>{if(["string","number"].includes(typeof j))return String(j).search(new RegExp(h.value,"i"))!==-1;const ke=Wi(j,me);return ke!=null&&String(ke).search(new RegExp(h.value,"i"))!==-1})}),[],{lazy:e.searchableLazy}),q=k(()=>h.value===""||e.showCreateOptionWhen==="empty"&&N.value.length||e.showCreateOptionWhen==="always"&&N.value.find(X=>["string","number"].includes(typeof X)?X===h.value:X[e.optionAttribute]===h.value)?null:["string","number"].includes(typeof e.modelValue)?h.value:{[e.optionAttribute]:h.value});function H(){e.clearSearchOnClose&&(h.value="")}re(l,j=>{j?n("open"):(H(),n("close"),c())});function se(j){n("update:modelValue",j),n("change",j),f()}function ce(j){h.value=j.target.value}return er(()=>tr("$YMH7mn4R4k")),{ui:i,uiMenu:s,attrs:r,name:R,inputId:y,popper:o,trigger:a,container:l,label:v,isLeading:b,isTrailing:C,selectClass:p,leadingIconName:g,leadingIconClass:O,leadingWrapperIconClass:m,trailingIconName:B,trailingIconClass:T,trailingWrapperIconClass:A,filteredOptions:N,createOption:q,query:h,onUpdate:se,onQueryChange:ce}}}),us=["value","required"],cs=["id","disabled"],ds={class:"truncate"};function fs(e,n,t,i,r,s){const o=qn,a=lr("HComboboxInput"),l=Xn;return _(),J(Je(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:z(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:te(({open:d})=>[e.required?(_(),F("input",{key:0,value:e.modelValue,required:e.required,class:z(e.uiMenu.required),tabindex:"-1","aria-hidden":"true"},null,10,us)):U("",!0),(_(),J(Je(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:z(e.uiMenu.trigger)},{default:te(()=>[de(e.$slots,"default",{open:d,disabled:e.disabled,loading:e.loading},()=>[Q("button",mt({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(_(),F("span",{key:0,class:z(e.leadingWrapperIconClass)},[de(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[Z(o,{name:e.leadingIconName,class:z(e.leadingIconClass)},null,8,["name","class"])])],2)):U("",!0),de(e.$slots,"label",{},()=>[e.label?(_(),F("span",{key:0,class:z(e.uiMenu.label)},pe(e.label),3)):(_(),F("span",{key:1,class:z(e.uiMenu.label)},pe(e.placeholder||" "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(_(),F("span",{key:1,class:z(e.trailingWrapperIconClass)},[de(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[Z(o,{name:e.trailingIconName,class:z(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):U("",!0)],16,cs)])]),_:2},1032,["class"])),d?(_(),F("div",{key:1,ref:"container",class:z([e.uiMenu.container,e.uiMenu.width])},[Z(ur,mt({appear:""},e.uiMenu.transition),{default:te(()=>[Q("div",null,[e.popper.arrow?(_(),F("div",{key:0,"data-popper-arrow":"",class:z(Object.values(e.uiMenu.arrow))},null,2)):U("",!0),(_(),J(Je(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:z([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:te(()=>{var u,c;return[e.searchable?(_(),J(a,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:z(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):U("",!0),(_(!0),F(Fe,null,Wt(e.filteredOptions,(f,y)=>(_(),J(Je(e.searchable?"HComboboxOption":"HListboxOption"),{key:y,as:"template",value:e.valueAttribute?f[e.valueAttribute]:f,disabled:f.disabled},{default:te(({active:x,selected:S,disabled:R})=>[Q("li",{class:z([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,x?e.uiMenu.option.active:e.uiMenu.option.inactive,S&&e.uiMenu.option.selected,R&&e.uiMenu.option.disabled])},[Q("div",{class:z(e.uiMenu.option.container)},[de(e.$slots,"option",{option:f,active:x,selected:S},()=>[f.icon?(_(),J(o,{key:0,name:f.icon,class:z([e.uiMenu.option.icon.base,x?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,f.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):f.avatar?(_(),J(l,mt({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...f.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):f.chip?(_(),F("span",{key:2,class:z(e.uiMenu.option.chip.base),style:cr({background:`#${f.chip}`})},null,6)):U("",!0),Q("span",ds,pe(["string","number"].includes(typeof f)?f:f[e.optionAttribute]),1)])],2),S?(_(),F("span",{key:0,class:z([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[Z(o,{name:e.selectedIcon,class:z(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):U("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(_(),J(Je(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:te(({active:f,selected:y})=>[Q("li",{class:z([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,f?e.uiMenu.option.active:e.uiMenu.option.inactive])},[Q("div",{class:z(e.uiMenu.option.container)},[de(e.$slots,"option-create",{option:e.createOption,active:f,selected:y},()=>[Q("span",{class:z(e.uiMenu.option.create)},'Create "'+pe(e.createOption[e.optionAttribute])+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((u=e.filteredOptions)!=null&&u.length)?(_(),F("p",{key:2,class:z(e.uiMenu.option.empty)},[de(e.$slots,"option-empty",{query:e.query},()=>[nt(' No results for "'+pe(e.query)+'". ',1)])],2)):(c=e.filteredOptions)!=null&&c.length?U("",!0):(_(),F("p",{key:3,class:z(e.uiMenu.empty)},[de(e.$slots,"empty",{query:e.query},()=>[nt(" No options. ")])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):U("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const ps=pr(ls,[["render",fs]]),hs=ue({inheritAttrs:!1,__name:"DashboardToolbar",props:{class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(e){const n={wrapper:"min-h-[49px] flex-shrink-0 flex items-center border-b border-gray-200 dark:border-gray-800 px-4 py-2 gap-x-4",container:"flex items-center justify-between flex-1 gap-x-1.5",left:"flex items-stretch gap-1.5",right:"flex items-stretch gap-1.5"},t=e,{ui:i,attrs:r}=Lt("dashboard.toolbar",tt(t,"ui"),n,tt(t,"class"),!0);return(s,o)=>(_(),F("div",mt({class:I(i).wrapper},I(r)),[Q("div",{class:z(I(i).container)},[de(s.$slots,"default",{},()=>[Q("div",{class:z(I(i).left)},[de(s.$slots,"left")],2),Q("div",{class:z(I(i).right)},[de(s.$slots,"right")],2)])],2)],16))}}),Oe=Object.create(null);Oe.open="0";Oe.close="1";Oe.ping="2";Oe.pong="3";Oe.message="4";Oe.upgrade="5";Oe.noop="6";const bt=Object.create(null);Object.keys(Oe).forEach(e=>{bt[Oe[e]]=e});const $t={type:"error",data:"parser error"},Oi=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Si=typeof ArrayBuffer=="function",Ei=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,nn=({type:e,data:n},t,i)=>Oi&&n instanceof Blob?t?i(n):_n(n,i):Si&&(n instanceof ArrayBuffer||Ei(n))?t?i(n):_n(new Blob([n]),i):i(Oe[e]+(n||"")),_n=(e,n)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];n("b"+(i||""))},t.readAsDataURL(e)};function Ln(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Bt;function vs(e,n){if(Oi&&e.data instanceof Blob)return e.data.arrayBuffer().then(Ln).then(n);if(Si&&(e.data instanceof ArrayBuffer||Ei(e.data)))return n(Ln(e.data));nn(e,!1,t=>{Bt||(Bt=new TextEncoder),n(Bt.encode(t))})}const Mn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",et=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Mn.length;e++)et[Mn.charCodeAt(e)]=e;const ms=e=>{let n=e.length*.75,t=e.length,i,r=0,s,o,a,l;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);const d=new ArrayBuffer(n),u=new Uint8Array(d);for(i=0;i<t;i+=4)s=et[e.charCodeAt(i)],o=et[e.charCodeAt(i+1)],a=et[e.charCodeAt(i+2)],l=et[e.charCodeAt(i+3)],u[r++]=s<<2|o>>4,u[r++]=(o&15)<<4|a>>2,u[r++]=(a&3)<<6|l&63;return d},gs=typeof ArrayBuffer=="function",rn=(e,n)=>{if(typeof e!="string")return{type:"message",data:ki(e,n)};const t=e.charAt(0);return t==="b"?{type:"message",data:bs(e.substring(1),n)}:bt[t]?e.length>1?{type:bt[t],data:e.substring(1)}:{type:bt[t]}:$t},bs=(e,n)=>{if(gs){const t=ms(e);return ki(t,n)}else return{base64:!0,data:e}},ki=(e,n)=>{switch(n){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Ci="",ys=(e,n)=>{const t=e.length,i=new Array(t);let r=0;e.forEach((s,o)=>{nn(s,!1,a=>{i[o]=a,++r===t&&n(i.join(Ci))})})},ws=(e,n)=>{const t=e.split(Ci),i=[];for(let r=0;r<t.length;r++){const s=rn(t[r],n);if(i.push(s),s.type==="error")break}return i};function xs(){return new TransformStream({transform(e,n){vs(e,t=>{const i=t.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const s=new DataView(r.buffer);s.setUint8(0,126),s.setUint16(1,i)}else{r=new Uint8Array(9);const s=new DataView(r.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(i))}e.data&&typeof e.data!="string"&&(r[0]|=128),n.enqueue(r),n.enqueue(t)})}})}let _t;function ft(e){return e.reduce((n,t)=>n+t.length,0)}function pt(e,n){if(e[0].length===n)return e.shift();const t=new Uint8Array(n);let i=0;for(let r=0;r<n;r++)t[r]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),t}function Os(e,n){_t||(_t=new TextDecoder);const t=[];let i=0,r=-1,s=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(i===0){if(ft(t)<1)break;const l=pt(t,1);s=(l[0]&128)===128,r=l[0]&127,r<126?i=3:r===126?i=1:i=2}else if(i===1){if(ft(t)<2)break;const l=pt(t,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(i===2){if(ft(t)<8)break;const l=pt(t,8),d=new DataView(l.buffer,l.byteOffset,l.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue($t);break}r=u*Math.pow(2,32)+d.getUint32(4),i=3}else{if(ft(t)<r)break;const l=pt(t,r);a.enqueue(rn(s?l:_t.decode(l),n)),i=0}if(r===0||r>e){a.enqueue($t);break}}}})}const Ri=4;function W(e){if(e)return Ss(e)}function Ss(e){for(var n in W.prototype)e[n]=W.prototype[n];return e}W.prototype.on=W.prototype.addEventListener=function(e,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(n),this};W.prototype.once=function(e,n){function t(){this.off(e,t),n.apply(this,arguments)}return t.fn=n,this.on(e,t),this};W.prototype.off=W.prototype.removeListener=W.prototype.removeAllListeners=W.prototype.removeEventListener=function(e,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+e];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,r=0;r<t.length;r++)if(i=t[r],i===n||i.fn===n){t.splice(r,1);break}return t.length===0&&delete this._callbacks["$"+e],this};W.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),t=this._callbacks["$"+e],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,r=t.length;i<r;++i)t[i].apply(this,n)}return this};W.prototype.emitReserved=W.prototype.emit;W.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};W.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ae=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Ai(e,...n){return n.reduce((t,i)=>(e.hasOwnProperty(i)&&(t[i]=e[i]),t),{})}const Es=ae.setTimeout,ks=ae.clearTimeout;function kt(e,n){n.useNativeTimers?(e.setTimeoutFn=Es.bind(ae),e.clearTimeoutFn=ks.bind(ae)):(e.setTimeoutFn=ae.setTimeout.bind(ae),e.clearTimeoutFn=ae.clearTimeout.bind(ae))}const Cs=1.33;function Rs(e){return typeof e=="string"?As(e):Math.ceil((e.byteLength||e.size)*Cs)}function As(e){let n=0,t=0;for(let i=0,r=e.length;i<r;i++)n=e.charCodeAt(i),n<128?t+=1:n<2048?t+=2:n<55296||n>=57344?t+=3:(i++,t+=4);return t}function Ts(e){let n="";for(let t in e)e.hasOwnProperty(t)&&(n.length&&(n+="&"),n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n}function Is(e){let n={},t=e.split("&");for(let i=0,r=t.length;i<r;i++){let s=t[i].split("=");n[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return n}class Bs extends Error{constructor(n,t,i){super(n),this.description=t,this.context=i,this.type="TransportError"}}class on extends W{constructor(n){super(),this.writable=!1,kt(this,n),this.opts=n,this.query=n.query,this.socket=n.socket}onError(n,t,i){return super.emitReserved("error",new Bs(n,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const t=rn(n,this.socket.binaryType);this.onPacket(t)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,t={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const t=Ts(n);return t.length?"?"+t:""}}const Ti="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Vt=64,_s={};let Dn=0,ht=0,Pn;function Nn(e){let n="";do n=Ti[e%Vt]+n,e=Math.floor(e/Vt);while(e>0);return n}function Ii(){const e=Nn(+new Date);return e!==Pn?(Dn=0,Pn=e):e+"."+Nn(Dn++)}for(;ht<Vt;ht++)_s[Ti[ht]]=ht;let Bi=!1;try{Bi=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ls=Bi;function _i(e){const n=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||Ls))return new XMLHttpRequest}catch{}if(!n)try{return new ae[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Ms(){}const Ds=function(){return new _i({xdomain:!1}).responseType!=null}();class Ps extends on{constructor(n){if(super(n),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let r=location.port;r||(r=i?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||r!==n.port}const t=n&&n.forceBase64;this.supportsBinary=Ds&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(n){this.readyState="pausing";const t=()=>{this.readyState="paused",n()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};ws(n,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,ys(n,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Ii()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(n,t)}request(n={}){return Object.assign(n,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new ye(this.uri(),n)}doWrite(n,t){const i=this.request({method:"POST",data:n});i.on("success",t),i.on("error",(r,s)=>{this.onError("xhr post error",r,s)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=n}}class ye extends W{constructor(n,t){super(),kt(this,t),this.opts=t,this.method=t.method||"GET",this.uri=n,this.data=t.data!==void 0?t.data:null,this.create()}create(){var n;const t=Ai(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const i=this.xhr=new _i(t);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(n=this.opts.cookieJar)===null||n===void 0||n.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var r;i.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=ye.requestsCount++,ye.requests[this.index]=this)}onError(n){this.emitReserved("error",n,this.xhr),this.cleanup(!0)}cleanup(n){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Ms,n)try{this.xhr.abort()}catch{}typeof document<"u"&&delete ye.requests[this.index],this.xhr=null}}onLoad(){const n=this.xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}ye.requestsCount=0;ye.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",$n);else if(typeof addEventListener=="function"){const e="onpagehide"in ae?"pagehide":"unload";addEventListener(e,$n,!1)}}function $n(){for(let e in ye.requests)ye.requests.hasOwnProperty(e)&&ye.requests[e].abort()}const sn=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,t)=>t(n,0),vt=ae.WebSocket||ae.MozWebSocket,Vn=!0,Ns="arraybuffer",zn=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class $s extends on{constructor(n){super(n),this.supportsBinary=!n.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const n=this.uri(),t=this.opts.protocols,i=zn?{}:Ai(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=Vn&&!zn?t?new vt(n,t):new vt(n):new vt(n,t,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let t=0;t<n.length;t++){const i=n[t],r=t===n.length-1;nn(i,this.supportsBinary,s=>{const o={};try{Vn&&this.ws.send(s)}catch{}r&&sn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ii()),this.supportsBinary||(t.b64=1),this.createUri(n,t)}check(){return!!vt}}class Vs extends on{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(n=>{const t=Os(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=n.readable.pipeThrough(t).getReader(),r=xs();r.readable.pipeTo(n.writable),this.writer=r.writable.getWriter();const s=()=>{i.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(n){this.writable=!1;for(let t=0;t<n.length;t++){const i=n[t],r=t===n.length-1;this.writer.write(i).then(()=>{r&&sn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this.transport)===null||n===void 0||n.close()}}const zs={websocket:$s,webtransport:Vs,polling:Ps},Fs=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,qs=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function zt(e){if(e.length>2e3)throw"URI too long";const n=e,t=e.indexOf("["),i=e.indexOf("]");t!=-1&&i!=-1&&(e=e.substring(0,t)+e.substring(t,i).replace(/:/g,";")+e.substring(i,e.length));let r=Fs.exec(e||""),s={},o=14;for(;o--;)s[qs[o]]=r[o]||"";return t!=-1&&i!=-1&&(s.source=n,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=js(s,s.path),s.queryKey=Us(s,s.query),s}function js(e,n){const t=/\/{2,9}/g,i=n.replace(t,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&i.splice(0,1),n.slice(-1)=="/"&&i.splice(i.length-1,1),i}function Us(e,n){const t={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,s){r&&(t[r]=s)}),t}let Li=class Ne extends W{constructor(n,t={}){super(),this.binaryType=Ns,this.writeBuffer=[],n&&typeof n=="object"&&(t=n,n=null),n?(n=zt(n),t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)):t.host&&(t.hostname=zt(t.host).host),kt(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Is(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(n){const t=Object.assign({},this.opts.query);t.EIO=Ri,t.transport=n,this.id&&(t.sid=this.id);const i=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new zs[n](i)}open(){let n;if(this.opts.rememberUpgrade&&Ne.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)n="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else n=this.transports[0];this.readyState="opening";try{n=this.createTransport(n)}catch{this.transports.shift(),this.open();return}n.open(),this.setTransport(n)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(n){let t=this.createTransport(n),i=!1;Ne.priorWebsocketSuccess=!1;const r=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",c=>{if(!i)if(c.type==="pong"&&c.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Ne.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=t.name,this.emitReserved("upgradeError",f)}}))};function s(){i||(i=!0,u(),t.close(),t=null)}const o=c=>{const f=new Error("probe error: "+c);f.transport=t.name,s(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function l(){o("socket closed")}function d(c){t&&c.name!==t.name&&s()}const u=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",d)};t.once("open",r),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onOpen(){if(this.readyState="open",Ne.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let n=0;const t=this.upgrades.length;for(;n<t;n++)this.probe(this.upgrades[n])}}onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),this.resetPingTimeout(),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=n.data,this.onError(t);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this.getWritablePackets();this.transport.send(n),this.prevBufferLen=n.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let i=0;i<this.writeBuffer.length;i++){const r=this.writeBuffer[i].data;if(r&&(t+=Rs(r)),i>0&&t>this.maxPayload)return this.writeBuffer.slice(0,i);t+=2}return this.writeBuffer}write(n,t,i){return this.sendPacket("message",n,t,i),this}send(n,t,i){return this.sendPacket("message",n,t,i),this}sendPacket(n,t,i,r){if(typeof t=="function"&&(r=t,t=void 0),typeof i=="function"&&(r=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const s={type:n,data:t,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const n=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),n()},i=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():n()}):this.upgrading?i():n()),this}onError(n){Ne.priorWebsocketSuccess=!1,this.emitReserved("error",n),this.onClose("transport error",n)}onClose(n,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",n,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(n){const t=[];let i=0;const r=n.length;for(;i<r;i++)~this.transports.indexOf(n[i])&&t.push(n[i]);return t}};Li.protocol=Ri;function Hs(e,n="",t){let i=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),i=zt(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+n,i.href=i.protocol+"://"+s+(t&&t.port===i.port?"":":"+i.port),i}const Ws=typeof ArrayBuffer=="function",Ks=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Mi=Object.prototype.toString,Ys=typeof Blob=="function"||typeof Blob<"u"&&Mi.call(Blob)==="[object BlobConstructor]",Xs=typeof File=="function"||typeof File<"u"&&Mi.call(File)==="[object FileConstructor]";function an(e){return Ws&&(e instanceof ArrayBuffer||Ks(e))||Ys&&e instanceof Blob||Xs&&e instanceof File}function yt(e,n){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let t=0,i=e.length;t<i;t++)if(yt(e[t]))return!0;return!1}if(an(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return yt(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&yt(e[t]))return!0;return!1}function Js(e){const n=[],t=e.data,i=e;return i.data=Ft(t,n),i.attachments=n.length,{packet:i,buffers:n}}function Ft(e,n){if(!e)return e;if(an(e)){const t={_placeholder:!0,num:n.length};return n.push(e),t}else if(Array.isArray(e)){const t=new Array(e.length);for(let i=0;i<e.length;i++)t[i]=Ft(e[i],n);return t}else if(typeof e=="object"&&!(e instanceof Date)){const t={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=Ft(e[i],n));return t}return e}function Qs(e,n){return e.data=qt(e.data,n),delete e.attachments,e}function qt(e,n){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<n.length)return n[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=qt(e[t],n);else if(typeof e=="object")for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=qt(e[t],n));return e}const Zs=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Gs=5;var D;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(D||(D={}));class ea{constructor(n){this.replacer=n}encode(n){return(n.type===D.EVENT||n.type===D.ACK)&&yt(n)?this.encodeAsBinary({type:n.type===D.EVENT?D.BINARY_EVENT:D.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let t=""+n.type;return(n.type===D.BINARY_EVENT||n.type===D.BINARY_ACK)&&(t+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(t+=n.nsp+","),n.id!=null&&(t+=n.id),n.data!=null&&(t+=JSON.stringify(n.data,this.replacer)),t}encodeAsBinary(n){const t=Js(n),i=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(i),r}}function Fn(e){return Object.prototype.toString.call(e)==="[object Object]"}class ln extends W{constructor(n){super(),this.reviver=n}add(n){let t;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(n);const i=t.type===D.BINARY_EVENT;i||t.type===D.BINARY_ACK?(t.type=i?D.EVENT:D.ACK,this.reconstructor=new ta(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(an(n)||n.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(n),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let t=0;const i={type:Number(n.charAt(0))};if(D[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===D.BINARY_EVENT||i.type===D.BINARY_ACK){const s=t+1;for(;n.charAt(++t)!=="-"&&t!=n.length;);const o=n.substring(s,t);if(o!=Number(o)||n.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(n.charAt(t+1)==="/"){const s=t+1;for(;++t&&!(n.charAt(t)===","||t===n.length););i.nsp=n.substring(s,t)}else i.nsp="/";const r=n.charAt(t+1);if(r!==""&&Number(r)==r){const s=t+1;for(;++t;){const o=n.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===n.length)break}i.id=Number(n.substring(s,t+1))}if(n.charAt(++t)){const s=this.tryParse(n.substr(t));if(ln.isPayloadValid(i.type,s))i.data=s;else throw new Error("invalid payload")}return i}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,t){switch(n){case D.CONNECT:return Fn(t);case D.DISCONNECT:return t===void 0;case D.CONNECT_ERROR:return typeof t=="string"||Fn(t);case D.EVENT:case D.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Zs.indexOf(t[0])===-1);case D.ACK:case D.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ta{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const t=Qs(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const na=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ln,Encoder:ea,get PacketType(){return D},protocol:Gs},Symbol.toStringTag,{value:"Module"}));function fe(e,n,t){return e.on(n,t),function(){e.off(n,t)}}const ia=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Di extends W{constructor(n,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[fe(n,"open",this.onopen.bind(this)),fe(n,"packet",this.onpacket.bind(this)),fe(n,"error",this.onerror.bind(this)),fe(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...t){if(ia.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(t.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const i={type:D.EVENT,data:t};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const o=this.ids++,a=t.pop();this._registerAckCallback(o,a),i.id=o}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(n,t){var i;const r=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(r===void 0){this.acks[n]=t;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===n&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},r),o=(...a)=>{this.io.clearTimeoutFn(s),t.apply(this,a)};o.withError=!0,this.acks[n]=o}emitWithAck(n,...t){return new Promise((i,r)=>{const s=(o,a)=>o?r(o):i(a);s.withError=!0,t.push(s),this.emit(n,...t)})}_addToQueue(n){let t;typeof n[n.length-1]=="function"&&(t=n.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((r,...s)=>i!==this._queue[0]?void 0:(r!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(r)):(this._queue.shift(),t&&t(null,...s)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!n||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:D.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(i=>String(i.id)===n)){const i=this.acks[n];delete this.acks[n],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case D.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case D.EVENT:case D.BINARY_EVENT:this.onevent(n);break;case D.ACK:case D.BINARY_ACK:this.onack(n);break;case D.DISCONNECT:this.ondisconnect();break;case D.CONNECT_ERROR:this.destroy();const i=new Error(n.data.message);i.data=n.data.data,this.emitReserved("connect_error",i);break}}onevent(n){const t=n.data||[];n.id!=null&&t.push(this.ack(n.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const t=this;let i=!1;return function(...r){i||(i=!0,t.packet({type:D.ACK,id:n,data:r}))}}onack(n){const t=this.acks[n.id];typeof t=="function"&&(delete this.acks[n.id],t.withError&&n.data.unshift(null),t.apply(this,n.data))}onconnect(n,t){this.id=n,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:D.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(n===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(n===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,n.data)}}}function Ke(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ke.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),t=Math.floor(n*this.jitter*e);e=Math.floor(n*10)&1?e+t:e-t}return Math.min(e,this.max)|0};Ke.prototype.reset=function(){this.attempts=0};Ke.prototype.setMin=function(e){this.ms=e};Ke.prototype.setMax=function(e){this.max=e};Ke.prototype.setJitter=function(e){this.jitter=e};class jt extends W{constructor(n,t){var i;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(t=n,n=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,kt(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Ke({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=n;const r=t.parser||na;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var t;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(t=this.backoff)===null||t===void 0||t.setMin(n),this)}randomizationFactor(n){var t;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(t=this.backoff)===null||t===void 0||t.setJitter(n),this)}reconnectionDelayMax(n){var t;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(t=this.backoff)===null||t===void 0||t.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new Li(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=fe(t,"open",function(){i.onopen(),n&&n()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),n?n(a):this.maybeReconnectOnOpen()},o=fe(t,"error",s);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),t.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(o),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(fe(n,"ping",this.onping.bind(this)),fe(n,"data",this.ondata.bind(this)),fe(n,"error",this.onerror.bind(this)),fe(n,"close",this.onclose.bind(this)),fe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(t){this.onclose("parse error",t)}}ondecoded(n){sn(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,t){let i=this.nsps[n];return i?this._autoConnect&&!i.active&&i.connect():(i=new Di(this,n,t),this.nsps[n]=i),i}_destroy(n){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(n){const t=this.encoder.encode(n);for(let i=0;i<t.length;i++)this.engine.write(t[i],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(n,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(r=>{r?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",r)):n.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const Ge={};function wt(e,n){typeof e=="object"&&(n=e,e=void 0),n=n||{};const t=Hs(e,n.path||"/socket.io"),i=t.source,r=t.id,s=t.path,o=Ge[r]&&s in Ge[r].nsps,a=n.forceNew||n["force new connection"]||n.multiplex===!1||o;let l;return a?l=new jt(i,n):(Ge[r]||(Ge[r]=new jt(i,n)),l=Ge[r]),t.query&&!n.query&&(n.query=t.queryKey),l.socket(t.path,n)}Object.assign(wt,{Manager:jt,Socket:Di,io:wt,connect:wt});const Y=wt("https://localhost"),ra={__name:"LogViewer",props:{containerId:{type:String,required:!0}},setup(e){const n=e,t=M([]),i=M(null),r=()=>{Y.emit("getLogs",n.containerId)},s=d=>{t.value.push(d)},o=d=>{console.error("Socket error:",d)},a=()=>{console.log("Reconnected to server"),t.value=[],r()},l=()=>{i.value&&(i.value.scrollTop=i.value.scrollHeight)};return we(()=>{r(),Y.on("log",s),Y.on("error",o),Y.on("connect",a),Y.on("disconnect",()=>{console.log("Disconnected from server")}),l()}),ti(()=>{Y.off("log",s),Y.off("error",o),Y.off("connect",a)}),re(t,()=>{l()}),re(()=>n.containerId,()=>{t.value=[],r()}),(d,u)=>(_(),F("div",{ref_key:"logContainer",ref:i,class:"h-[75vh] overflow-y-auto mt-4 p-4 rounded-lg bg-gray-100 dark:bg-gray-800"},[(_(!0),F(Fe,null,Wt(I(t),c=>(_(),F("div",{key:c,class:"log-entry"},pe(c),1))),128))],512))}},oa={__name:"LogTerminal",props:{containerId:{type:String,required:!0}},setup(e){const n=e,t=M(null);let i,r;const s=()=>{Y.emit("startShell",n.containerId)},o=()=>{Y.emit("stopShell",n.containerId),Y.off("shellOutput",a)},a=d=>{i&&i.write(d.toString("utf8"))},l=d=>{Y.emit("shellInput",d.toString("utf8"))};return we(async()=>{if(Gi){const{Terminal:d}=await Tt(async()=>{const{Terminal:c}=await import("./ByJhTvlH.js").then(f=>f.x);return{Terminal:c}},[],import.meta.url),{FitAddon:u}=await Tt(async()=>{const{FitAddon:c}=await import("./D-0KS9LU.js").then(f=>f.x);return{FitAddon:c}},[],import.meta.url);await Tt(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url),i=new d({cursorBlink:!0,fontSize:16}),r=new u,i.loadAddon(r),i.open(t.value),r.fit(),i.onData(l),s(),Y.on("shellOutput",a),Y.on("error",c=>{i.write(`\r
Error: ${c}\r
`)}),Y.on("connect",()=>{i.write(`\r
Connected to server\r
`),s()}),Y.on("disconnect",()=>{i.write(`\r
Disconnected from server\r
`)}),window.addEventListener("resize",r.fit)}}),ti(()=>{i&&(o(),window.removeEventListener("resize",r.fit))}),(d,u)=>(_(),F("div",{ref_key:"terminal",ref:t,class:"terminal-container"},null,512))}},sa={key:0,class:"flex"},aa={key:0,class:"flex flex-wrap gap-2"},la={key:0},ua={key:0,class:"mt-4"},ca={class:"truncate"},da={key:1,class:"mt-4"},fa={key:2,class:"mt-4"},pa={key:1},Sa={__name:"Single",setup(e){const n=dr(),t=M(null),i=["General","Logs"],r=M(i[0]),s=async()=>{try{t.value=await qi.fetchContainer(n.params.id)}catch(d){console.error("Failed to load container details:",d)}},o=async(d,u)=>{try{await d[u](),s()}catch(c){console.error(`Failed to ${u} container:`,c)}},a=()=>{r.value="Shell"},l=()=>{r.value="General"};return we(s),re(t,d=>{t.value=d}),(d,u)=>{const c=ji,f=Ki,y=Yi,x=ps,S=hs,R=hr,E=vr;return _(),F(Fe,null,[Z(y,{headline:I(t)?"":"Loading...",class:"sticky top-0 bg-white z-10 dark:bg-gray-800 pb-4"},{title:te(()=>[I(t)?(_(),F("h1",sa,[nt(pe(I(t).getName())+" ",1),Z(c,{label:I(t).getStatus(),color:I(t).isRunning()?"green":"red",class:"ml-2 h-6",variant:"soft"},null,8,["label","color"])])):U("",!0)]),description:te(()=>[I(t)?(_(),F("div",aa,[I(t).isRunning()?U("",!0):(_(),J(f,{key:0,onClick:u[0]||(u[0]=()=>o(I(t),"start")),icon:I(t).isLoading("start")?"i-heroicons-spinner":"i-heroicons-play",size:"sm",color:"white",square:"",variant:"solid",loading:I(t).isLoading("start"),label:"Start"},null,8,["icon","loading"])),I(t).isRunning()?(_(),J(f,{key:1,onClick:u[1]||(u[1]=()=>o(I(t),"restart")),icon:I(t).isLoading("restart")?"i-heroicons-spinner":"i-heroicons-arrow-path",size:"sm",color:"white",square:"",variant:"solid",loading:I(t).isLoading("restart"),label:"Restart"},null,8,["icon","loading"])):U("",!0),I(t).isRunning()?(_(),J(f,{key:2,onClick:u[2]||(u[2]=()=>o(I(t),"stop")),icon:I(t).isLoading("stop")?"i-heroicons-spinner":"i-heroicons-stop",size:"sm",color:"white",square:"",variant:"solid",loading:I(t).isLoading("stop"),label:"Stop"},null,8,["icon","loading"])):U("",!0),Z(f,{onClick:u[3]||(u[3]=()=>o(I(t),"remove")),icon:I(t).isLoading("remove")?"i-heroicons-spinner":"i-heroicons-trash",size:"sm",color:"white",square:"",variant:"solid",loading:I(t).isLoading("remove"),label:"Remove"},null,8,["icon","loading"]),Z(f,{onClick:u[4]||(u[4]=()=>o(I(t),"rebuild")),icon:I(t).isLoading("rebuild")?"i-heroicons-spinner":"i-heroicons-arrow-path-rounded-square",size:"sm",color:"white",square:"",variant:"solid",loading:I(t).isLoading("rebuild"),label:"Rebuild"},null,8,["icon","loading"])])):U("",!0)]),_:1},8,["headline"]),I(t)?(_(),F("div",la,[Z(S,{class:"pl-0 py-4"},{left:te(()=>[I(r)!=="Shell"?(_(),J(x,{key:0,icon:I(r)==="General"?"i-heroicons-information-circle":"i-heroicons-clipboard-document-list",modelValue:I(r),"onUpdate:modelValue":u[5]||(u[5]=w=>fr(r)?r.value=w:null),options:i,color:"white"},null,8,["icon","modelValue"])):U("",!0),I(r)!=="Shell"?(_(),J(f,{key:1,icon:"i-heroicons-command-line",size:"sm",color:"white",square:"",variant:"solid",label:"Terminal",onClick:u[6]||(u[6]=w=>a())})):U("",!0),I(r)==="Shell"?(_(),J(f,{key:2,icon:"i-heroicons-arrow-right-on-rectangle",size:"sm",color:"white",square:"",variant:"solid",label:"Quit",onClick:u[7]||(u[7]=w=>l())})):U("",!0)]),_:1}),I(r)==="General"?(_(),F("div",ua,[Z(E,{ui:{wrapper:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-2 gap-8"}},{default:te(()=>[Z(R,{title:"General"},{default:te(()=>[Q("p",null,"Name: "+pe(I(t).getName()),1),Q("p",ca,"Image: "+pe(I(t).getImage()),1),Q("p",null,"Created: "+pe(I(t).getCreated()),1)]),_:1}),Z(R,{title:"Network"},{default:te(()=>[nt(" Ports: "),Q("ul",null,[(_(!0),F(Fe,null,Wt(I(t).getPorts(),w=>(_(),F("li",{key:w},pe(w),1))),128))])]),_:1})]),_:1})])):U("",!0),I(r)==="Logs"?(_(),F("div",da,[Z(ra,{containerId:I(t).getId()},null,8,["containerId"])])):U("",!0),I(r)==="Shell"?(_(),F("div",fa,[I(r)==="Shell"?(_(),J(oa,{key:0,containerId:I(t).getId()},null,8,["containerId"])):U("",!0)])):U("",!0)])):(_(),F("div",pa,[Z(f,{size:"xl",color:"white",square:"",block:"",variant:"ghost",loading:""},{default:te(()=>[nt(" Loading container... ")]),_:1})]))],64)}}};export{Sa as _};
